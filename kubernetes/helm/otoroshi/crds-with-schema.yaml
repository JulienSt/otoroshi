---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "service-groups.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ServiceGroup"
    plural: "service-groups"
    singular: "service-group"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The otoroshi model for a group of services"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The otoroshi model for a group of services"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Just a bunch of random properties"
              name:
                description: "The name of your service. Only for debug and human readability\
                  \ purposes"
                type: "string"
              description:
                description: "Entity description"
                type: "string"
              location:
                description: "Entity location"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              id:
                description: "A unique random string to identify your service"
                type: "string"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "certificates.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Certificate"
    plural: "certificates"
    singular: "certificate"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        description: "The otoroshi model for X509 certificates"
        type: "object"
        properties:
          metadata:
            type: "object"
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          spec:
            description: "The otoroshi model for X509 certificates"
            type: "object"
            properties:
              certType:
                description: "the kind of certificate"
                type: "string"
              csr:
                description: "Settings for generating a certificate"
                type: "object"
                properties:
                  duration:
                    description: "Certificate lifespan"
                    type: "number"
                  includeAIA:
                    description: "Include AIA extension (if generated from otoroshi\
                      \ CA)"
                    type: "boolean"
                  signatureAlg:
                    description: "Signature algorithm"
                    type: "string"
                  digestAlg:
                    description: "Digest algo"
                    type: "string"
                  hosts:
                    type: "array"
                    items:
                      type: "string"
                    description: "Certificate SANs"
                  subject:
                    nullable: true
                    description: "null type"
                    type: "string"
                  name:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Certificate name"
                  client:
                    description: "Is cert client ?"
                    type: "boolean"
                  existingSerialNumber:
                    nullable: true
                    description: "null type"
                    type: "string"
                  ca:
                    description: "Is cert ca ?"
                    type: "boolean"
                  key:
                    description: "Keypair specs"
                    type: "object"
                    properties:
                      algo:
                        description: "Keypair algorithm"
                        type: "string"
                      size:
                        format: "int32"
                        description: "Keypair size"
                        type: "integer"
                  issuer:
                    type: "string"
                    description: "the issuer of the csr query"
              subject:
                description: "Certificate subject"
                type: "string"
              letsEncrypt:
                description: "Let's encrypt (ACME) generated"
                type: "boolean"
              keypair:
                description: "Is cert used for its keypair only ?"
                type: "boolean"
              description:
                description: "Entity description"
                type: "string"
              revoked:
                description: "Certificate is revoked"
                type: "boolean"
              valid:
                description: "Is cert valid"
                type: "boolean"
              password:
                nullable: true
                description: "null type"
                type: "string"
              exportSecret:
                description: "export certificate as a kubernetes secret"
                type: "boolean"
              exposed:
                description: "Is the cert exposed (public key exposed in jwks.json)"
                type: "boolean"
              autoRenew:
                description: "Auto renew cert"
                type: "boolean"
              client:
                description: "Is cert a client cert ?"
                type: "boolean"
              from:
                description: "Start date"
                type: "number"
              selfSigned:
                description: "Is cert self signed"
                type: "boolean"
              id:
                description: "Entity id"
                type: "string"
              ca:
                description: "Is cert a CA ?"
                type: "boolean"
              chain:
                description: "Certicates chain (PEM encoded)"
                type: "string"
              secretName:
                description: "name of the kubernetes secret"
                type: "string"
              sans:
                description: "Certificate SANs"
                type: "array"
                items:
                  type: "string"
              tags:
                description: "Entity tags"
                type: "array"
                items:
                  type: "string"
              privateKey:
                description: "Certificate private key (PEM encoded)"
                type: "string"
              entityMetadata:
                description: "Entity metadata"
                additionalProperties:
                  type: "string"
                type: "object"
              caRef:
                nullable: true
                description: "null type"
                type: "string"
              domain:
                description: "Certificate domain"
                type: "string"
              name:
                description: "Entity name"
                type: "string"
              location:
                description: "Entity location"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              to:
                description: "Stop date"
                type: "number"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "service-descriptors.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ServiceDescriptor"
    plural: "service-descriptors"
    singular: "service-descriptor"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        description: "???"
        type: "object"
        properties:
          metadata:
            type: "object"
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          spec:
            description: "???"
            type: "object"
            properties:
              removeHeadersIn:
                description: "???"
                type: "array"
                items:
                  type: "string"
              missingOnlyHeadersOut:
                description: "???"
                additionalProperties:
                  type: "string"
                type: "object"
              metadata:
                description: "???"
                additionalProperties:
                  type: "string"
                type: "object"
              tcpUdpTunneling:
                description: "???"
                type: "boolean"
              cors:
                description: "???"
                type: "object"
                properties:
                  excludedPatterns:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  allowMethods:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  allowHeaders:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  exposeHeaders:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  maxAge:
                    nullable: true
                    description: "null type"
                    type: "string"
                  enabled:
                    description: "???"
                    type: "boolean"
                  allowCredentials:
                    description: "???"
                    type: "boolean"
                  allowOrigin:
                    description: "???"
                    type: "string"
              forceHttps:
                description: "???"
                type: "boolean"
              matchingRoot:
                nullable: true
                description: "null type"
                type: "string"
              plugins:
                description: "???"
                type: "object"
                properties:
                  excluded:
                    description: "Excluded paths"
                    type: "array"
                    items:
                      type: "string"
                  refs:
                    description: "Enabled plugins"
                    type: "array"
                    items:
                      type: "string"
                  config:
                    description: "Plugins configuration"
                    type: "object"
                  enabled:
                    description: "Plugins enabled"
                    type: "boolean"
              letsEncrypt:
                description: "???"
                type: "boolean"
              useNewWSClient:
                description: "???"
                type: "boolean"
              chaosConfig:
                description: "???"
                type: "object"
                properties:
                  badResponsesFaultConfig:
                    nullable: true
                    description: "null type"
                    type: "string"
                  largeResponseFaultConfig:
                    nullable: true
                    description: "null type"
                    type: "string"
                  latencyInjectionFaultConfig:
                    nullable: true
                    description: "null type"
                    type: "string"
                  largeRequestFaultConfig:
                    nullable: true
                    description: "null type"
                    type: "string"
                  enabled:
                    description: "Whether or not this config is enabled"
                    type: "boolean"
              secComSettings:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Sec. com. settings"
              detectApiKeySooner:
                description: "???"
                type: "boolean"
              transformerRefs:
                description: "???"
                type: "array"
                items:
                  type: "string"
              secComAlgoInfoToken:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Algorithm to verify/sign challenge token coming from/to\
                  \ the backend"
              missingOnlyHeadersIn:
                description: "???"
                additionalProperties:
                  type: "string"
                type: "object"
              secComAlgoChallengeOtoToBack:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Algorithm to sign challenge token to the backend"
              removeHeadersOut:
                description: "???"
                type: "array"
                items:
                  type: "string"
              stripPath:
                description: "???"
                type: "boolean"
              localHost:
                description: "???"
                type: "string"
              sendOtoroshiHeadersBack:
                description: "???"
                type: "boolean"
              id:
                description: "???"
                type: "string"
              api:
                description: "???"
                type: "object"
                properties:
                  exposeApi:
                    description: "???"
                    type: "boolean"
                  openApiDescriptorUrl:
                    nullable: true
                    description: "null type"
                    type: "string"
              secComTtl:
                description: "???"
                type: "number"
              secComVersion:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Version of the sec. com."
              targetsLoadBalancing:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Loadbalancing strategy"
              userFacing:
                description: "???"
                type: "boolean"
              hosts:
                description: "???"
                type: "array"
                items:
                  type: "string"
              restrictions:
                description: "???"
                type: "object"
                properties:
                  allowed:
                    description: "???"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        path:
                          description: "???"
                          type: "string"
                        method:
                          description: "???"
                          type: "string"
                  allowLast:
                    description: "???"
                    type: "boolean"
                  forbidden:
                    description: "???"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        path:
                          description: "???"
                          type: "string"
                        method:
                          description: "???"
                          type: "string"
                  notFound:
                    description: "???"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        path:
                          description: "???"
                          type: "string"
                        method:
                          description: "???"
                          type: "string"
                  enabled:
                    description: "???"
                    type: "boolean"
              readOnly:
                description: "???"
                type: "boolean"
              secComInfoTokenVersion:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Version of the info token"
              enforceSecureCommunication:
                description: "???"
                type: "boolean"
              tags:
                description: "???"
                type: "array"
                items:
                  type: "string"
              clientValidatorRef:
                nullable: true
                description: "null type"
                type: "string"
              privateApp:
                description: "???"
                type: "boolean"
              enabledAdditionalHosts:
                type: "boolean"
                description: "if enabled, the additional hosts will be add to hosts\
                  \ array"
              paths:
                description: "???"
                type: "array"
                items:
                  type: "string"
              domain:
                description: "???"
                type: "string"
              name:
                description: "???"
                type: "string"
              transformerConfig:
                description: "???"
                type: "object"
              subdomain:
                description: "???"
                type: "string"
              maintenanceMode:
                description: "???"
                type: "boolean"
              secComHeaders:
                description: "???"
                type: "object"
                properties:
                  stateResponseName:
                    nullable: true
                    description: "null type"
                    type: "string"
                  claimRequestName:
                    nullable: true
                    description: "null type"
                    type: "string"
                  stateRequestName:
                    nullable: true
                    description: "null type"
                    type: "string"
              handleLegacyDomain:
                description: "???"
                type: "boolean"
              logAnalyticsOnServer:
                description: "???"
                type: "boolean"
              strictlyPrivate:
                description: "???"
                type: "boolean"
              description:
                description: "???"
                type: "string"
              buildMode:
                description: "???"
                type: "boolean"
              targets:
                x-kubernetes-preserve-unknown-fields: true
                type: "object"
              enabled:
                description: "???"
                type: "boolean"
              additionalHeadersOut:
                description: "???"
                additionalProperties:
                  type: "string"
                type: "object"
              sendStateChallenge:
                description: "???"
                type: "boolean"
              root:
                description: "???"
                type: "string"
              additionalHeaders:
                description: "???"
                additionalProperties:
                  type: "string"
                type: "object"
              issueCertCA:
                nullable: true
                description: "null type"
                type: "string"
              ipFiltering:
                description: "???"
                type: "object"
                properties:
                  blacklist:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  whitelist:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
              redirection:
                description: "???"
                type: "object"
                properties:
                  code:
                    format: "int32"
                    description: "???"
                    type: "integer"
                  to:
                    description: "???"
                    type: "string"
                  enabled:
                    description: "???"
                    type: "boolean"
              redirectToLocal:
                description: "???"
                type: "boolean"
              headersVerification:
                description: "???"
                additionalProperties:
                  type: "string"
                type: "object"
              useAkkaHttpClient:
                description: "???"
                type: "boolean"
              securityExcludedPatterns:
                description: "???"
                type: "array"
                items:
                  type: "string"
              authConfigRef:
                nullable: true
                description: "null type"
                type: "string"
              preRouting:
                description: "???"
                type: "object"
                properties:
                  excludedPatterns:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  refs:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  config:
                    description: "???"
                    type: "object"
                  enabled:
                    description: "???"
                    type: "boolean"
              canary:
                description: "???"
                type: "object"
                properties:
                  root:
                    description: "???"
                    type: "string"
                  targets:
                    description: "???"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        predicate:
                          type: "object"
                          x-kubernetes-preserve-unknown-fields: true
                          description: "Predicate to choose this target"
                        metadata:
                          description: "???"
                          additionalProperties:
                            type: "string"
                          type: "object"
                        protocol:
                          description: "???"
                          type: "string"
                        scheme:
                          description: "???"
                          type: "string"
                        mtlsConfig:
                          description: "???"
                          type: "object"
                          properties:
                            loose:
                              description: "???"
                              type: "boolean"
                            trustAll:
                              description: "???"
                              type: "boolean"
                            mtls:
                              description: "???"
                              type: "boolean"
                            certs:
                              description: "???"
                              type: "array"
                              items:
                                type: "string"
                            trustedCerts:
                              description: "???"
                              type: "array"
                              items:
                                type: "string"
                        host:
                          description: "???"
                          type: "string"
                        ipAddress:
                          nullable: true
                          description: "null type"
                          type: "string"
                        weight:
                          format: "int32"
                          description: "???"
                          type: "integer"
                        tags:
                          description: "???"
                          type: "array"
                          items:
                            type: "string"
                  enabled:
                    description: "???"
                    type: "boolean"
                  traffic:
                    format: "double"
                    description: "???"
                    type: "number"
              secComExcludedPatterns:
                description: "???"
                type: "array"
                items:
                  type: "string"
              xForwardedHeaders:
                description: "???"
                type: "boolean"
              apiKeyConstraints:
                description: "???"
                type: "object"
                properties:
                  routing:
                    description: "???"
                    type: "object"
                    properties:
                      oneMetaKeyIn:
                        description: "???"
                        type: "array"
                        items:
                          type: "string"
                      allTagsIn:
                        description: "???"
                        type: "array"
                        items:
                          type: "string"
                      allMetaIn:
                        description: "???"
                        additionalProperties:
                          type: "string"
                        type: "object"
                      noneTagIn:
                        description: "???"
                        type: "array"
                        items:
                          type: "string"
                      noneMetaKeysIn:
                        description: "???"
                        type: "array"
                        items:
                          type: "string"
                      oneMetaIn:
                        description: "???"
                        additionalProperties:
                          type: "string"
                        type: "object"
                      allMetaKeysIn:
                        description: "???"
                        type: "array"
                        items:
                          type: "string"
                      noneMetaIn:
                        description: "???"
                        additionalProperties:
                          type: "string"
                        type: "object"
                      oneTagIn:
                        description: "???"
                        type: "array"
                        items:
                          type: "string"
                  customHeadersAuth:
                    description: "???"
                    type: "object"
                    properties:
                      clientSecretHeaderName:
                        nullable: true
                        description: "null type"
                        type: "string"
                      enabled:
                        description: "???"
                        type: "boolean"
                      clientIdHeaderName:
                        nullable: true
                        description: "null type"
                        type: "string"
                  basicAuth:
                    description: "???"
                    type: "object"
                    properties:
                      headerName:
                        nullable: true
                        description: "null type"
                        type: "string"
                      queryName:
                        nullable: true
                        description: "null type"
                        type: "string"
                      enabled:
                        description: "???"
                        type: "boolean"
                  jwtAuth:
                    description: "???"
                    type: "object"
                    properties:
                      headerName:
                        nullable: true
                        description: "null type"
                        type: "string"
                      maxJwtLifespanSecs:
                        nullable: true
                        description: "null type"
                        type: "string"
                      keyPairSigned:
                        description: "???"
                        type: "boolean"
                      secretSigned:
                        description: "???"
                        type: "boolean"
                      queryName:
                        nullable: true
                        description: "null type"
                        type: "string"
                      enabled:
                        description: "???"
                        type: "boolean"
                      cookieName:
                        nullable: true
                        description: "null type"
                        type: "string"
                      includeRequestAttributes:
                        description: "???"
                        type: "boolean"
                  clientIdAuth:
                    description: "???"
                    type: "object"
                    properties:
                      headerName:
                        nullable: true
                        description: "null type"
                        type: "string"
                      queryName:
                        nullable: true
                        description: "null type"
                        type: "string"
                      enabled:
                        description: "???"
                        type: "boolean"
              sendInfoToken:
                description: "???"
                type: "boolean"
              issueCert:
                description: "???"
                type: "boolean"
              groups:
                description: "???"
                type: "array"
                items:
                  type: "string"
              privatePatterns:
                description: "???"
                type: "array"
                items:
                  type: "string"
              gzip:
                description: "???"
                type: "object"
                properties:
                  excludedPatterns:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  blackList:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  whiteList:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  chunkedThreshold:
                    format: "int32"
                    description: "???"
                    type: "integer"
                  compressionLevel:
                    format: "int32"
                    description: "???"
                    type: "integer"
                  enabled:
                    description: "???"
                    type: "boolean"
                  bufferSize:
                    format: "int32"
                    description: "???"
                    type: "integer"
              clientConfig:
                description: "???"
                type: "object"
                properties:
                  sampleInterval:
                    format: "int64"
                    description: "???"
                    type: "integer"
                  backoffFactor:
                    format: "int64"
                    description: "???"
                    type: "integer"
                  customTimeouts:
                    description: "???"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        path:
                          description: "???"
                          type: "string"
                        callAndStreamTimeout:
                          format: "int64"
                          description: "???"
                          type: "integer"
                        idleTimeout:
                          format: "int64"
                          description: "???"
                          type: "integer"
                        callTimeout:
                          format: "int64"
                          description: "???"
                          type: "integer"
                        globalTimeout:
                          format: "int64"
                          description: "???"
                          type: "integer"
                        connectionTimeout:
                          format: "int64"
                          description: "???"
                          type: "integer"
                  callAndStreamTimeout:
                    format: "int64"
                    description: "???"
                    type: "integer"
                  retryInitialDelay:
                    format: "int64"
                    description: "???"
                    type: "integer"
                  callTimeout:
                    format: "int64"
                    description: "???"
                    type: "integer"
                  useCircuitBreaker:
                    description: "???"
                    type: "boolean"
                  retries:
                    format: "int32"
                    description: "???"
                    type: "integer"
                  proxy:
                    nullable: true
                    description: "null type"
                    type: "string"
                  maxErrors:
                    format: "int32"
                    description: "???"
                    type: "integer"
                  idleTimeout:
                    format: "int64"
                    description: "???"
                    type: "integer"
                  globalTimeout:
                    format: "int64"
                    description: "???"
                    type: "integer"
                  cacheConnectionSettings:
                    description: "???"
                    type: "object"
                    properties:
                      queueSize:
                        format: "int32"
                        description: "???"
                        type: "integer"
                      enabled:
                        description: "???"
                        type: "boolean"
                  connectionTimeout:
                    format: "int64"
                    description: "???"
                    type: "integer"
              env:
                description: "???"
                type: "string"
              jwtVerifier:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "JWT verifiers settings"
              allowHttp10:
                description: "???"
                type: "boolean"
              publicPatterns:
                description: "???"
                type: "array"
                items:
                  type: "string"
              secComAlgoChallengeBackToOto:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Algorithm to verify challenge token coming from the\
                  \ backend"
              localScheme:
                description: "???"
                type: "string"
              healthCheck:
                description: "???"
                type: "object"
                properties:
                  enabled:
                    description: "???"
                    type: "boolean"
                  url:
                    description: "???"
                    type: "string"
              matchingHeaders:
                description: "???"
                additionalProperties:
                  type: "string"
                type: "object"
              overrideHost:
                description: "???"
                type: "boolean"
              location:
                description: "Entity location"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              secComUseSameAlgo:
                description: "???"
                type: "boolean"
              accessValidator:
                description: "???"
                type: "object"
                properties:
                  excludedPatterns:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  refs:
                    description: "???"
                    type: "array"
                    items:
                      type: "string"
                  config:
                    description: "???"
                    type: "object"
                  enabled:
                    description: "???"
                    type: "boolean"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "organizations.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Organization"
    plural: "organizations"
    singular: "organization"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi model for an organization (otoroshi-ui)"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi model for an organization (otoroshi-ui)"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              name:
                description: "Entity name"
                type: "string"
              description:
                description: "Entity description"
                type: "string"
              id:
                description: "Entity id"
                type: "object"
                properties:
                  rawValue:
                    description: "???"
                    type: "string"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "global-configs.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "GlobalConfig"
    plural: "global-configs"
    singular: "global-config"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The global config (dynamic) for otoroshi"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The global config (dynamic) for otoroshi"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              backOfficeAuthRef:
                nullable: true
                description: "null type"
                type: "string"
              plugins:
                description: "global plugins settings"
                type: "object"
                properties:
                  config:
                    description: "Plugins configuration"
                    type: "object"
                  enabled:
                    description: "Plugins enabled"
                    type: "boolean"
                  excluded:
                    type: "array"
                    items:
                      type: "string"
                    description: "Excluded paths"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "Enabled plugins"
              elasticReadsConfig:
                nullable: true
                description: "null type"
                type: "string"
              logAnalyticsOnServer:
                description: "Log analytics event on the server"
                type: "boolean"
              tlsSettings:
                description: "TLS settings"
                type: "object"
                properties:
                  randomIfNotFound:
                    description: "Use a random one"
                    type: "boolean"
                  trustedCAsServer:
                    type: "array"
                    items:
                      type: "string"
                    description: "List for CAs trusted by otoroshi when performing\
                      \ TLS termination"
                  includeJdkCaClient:
                    description: "Use known JDK CAs to build trust when performing\
                      \ request from otoroshi to backends"
                    type: "boolean"
                  defaultDomain:
                    nullable: true
                    description: "null type"
                    type: "string"
                  includeJdkCaServer:
                    description: "Use known JDK CAs to build trust for incoming request"
                    type: "boolean"
              geolocationSettings:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Settings for geolocation extraction"
              autoCert:
                description: "Auto certs settings"
                type: "object"
                properties:
                  caRef:
                    nullable: true
                    description: "null type"
                    type: "string"
                  allowed:
                    type: "array"
                    items:
                      type: "string"
                    description: "allowed domains"
                  replyNicely:
                    description: "Reply TLS error with an auto generated certificate\
                      \ for the domain"
                    type: "boolean"
                  notAllowed:
                    type: "array"
                    items:
                      type: "string"
                    description: "not allowed domains"
                  enabled:
                    description: "Enable auto cert"
                    type: "boolean"
              endlessIpAddresses:
                type: "array"
                items:
                  type: "string"
                description: "IP addresses for which any request to Otoroshi will\
                  \ respond with 128 Gb of zeros"
              streamEntityOnly:
                description: "HTTP will be streamed only. Doesn't work with old browsers"
                type: "boolean"
              alertsEmails:
                type: "array"
                items:
                  type: "string"
                description: "Email addresses that will receive all Otoroshi alert\
                  \ events"
              middleFingers:
                description: "Use middle finger emoji as a response character for\
                  \ endless HTTP responses"
                type: "boolean"
              alertsWebhooks:
                description: "Webhook that will receive all Otoroshi alert events"
                type: "array"
                items:
                  type: "object"
                  properties:
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Headers to authorize the call or whatever"
                    mtlsConfig:
                      description: "TLS config when calling webhook"
                      type: "object"
                      properties:
                        mtls:
                          description: "???"
                          type: "boolean"
                        loose:
                          description: "???"
                          type: "boolean"
                        trustAll:
                          description: "???"
                          type: "boolean"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                    url:
                      description: "The URL where events are posted"
                      type: "string"
              maxWebhookSize:
                format: "int32"
                description: "Max number of items in webhooks"
                type: "integer"
              cleverSettings:
                nullable: true
                description: "null type"
                type: "string"
              u2fLoginOnly:
                description: "If enabled, login to backoffice through Auth0 will be\
                  \ disabled"
                type: "boolean"
              userAgentSettings:
                description: "Settings for useragent extraction"
                type: "object"
                properties:
                  enabled:
                    description: "User agent extraction enabled"
                    type: "boolean"
              otoroshiId:
                description: "Unique id for this otoroshi instance"
                type: "string"
              proxies:
                description: "Web proxies settings"
                type: "object"
                properties:
                  auth:
                    nullable: true
                    description: "null type"
                    type: "string"
                  clevercloud:
                    nullable: true
                    description: "null type"
                    type: "string"
                  authority:
                    nullable: true
                    description: "null type"
                    type: "string"
                  elastic:
                    nullable: true
                    description: "null type"
                    type: "string"
                  alertEmails:
                    nullable: true
                    description: "null type"
                    type: "string"
                  services:
                    nullable: true
                    description: "null type"
                    type: "string"
                  eventsWebhooks:
                    nullable: true
                    description: "null type"
                    type: "string"
                  jwk:
                    nullable: true
                    description: "null type"
                    type: "string"
              mailerSettings:
                nullable: true
                description: "null type"
                type: "string"
              ipFiltering:
                description: "Global ip filtering settings"
                type: "object"
                properties:
                  whitelist:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  blacklist:
                    type: "array"
                    items:
                      type: "string"
                    description: "Blacklisted IP addresses"
              lines:
                type: "array"
                items:
                  type: "string"
                description: "Possibles lines for Otoroshi"
              useCircuitBreakers:
                description: "If enabled, services will be authorized to use circuit\
                  \ breakers"
                type: "boolean"
              scripts:
                description: "global plugins settings. will be deprecated soon"
                type: "object"
                properties:
                  jobConfig:
                    description: "jobs enabled"
                    type: "object"
                  enabled:
                    description: "Global scripts enabled"
                    type: "boolean"
                  transformersConfig:
                    description: "transformers config"
                    type: "object"
                  transformersRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "transformers enabled"
                  preRouteRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "pre-route plugins enabled"
                  sinkConfig:
                    description: "sinks config"
                    type: "object"
                  jobRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "running jobs"
                  validatorRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "validator enabled"
                  sinkRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "sinks enabled"
                  preRouteConfig:
                    description: "pre-route config"
                    type: "object"
                  validatorConfig:
                    description: "validator config"
                    type: "object"
              maxLogsSize:
                format: "int32"
                description: "Number of events kept locally"
                type: "integer"
              useAkkaHttpClient:
                description: "Globally use akka http client for everything"
                type: "boolean"
              quotasSettings:
                description: "Settings to generate alert when an apikey almost exceeded\
                  \ or exceeded its quotas"
                type: "object"
                properties:
                  enabled:
                    description: "Is quotas alert enabled"
                    type: "boolean"
                  dailyQuotasThreshold:
                    format: "double"
                    description: "The daily quotas threshold before generating alert"
                    type: "number"
                  monthlyQuotasThreshold:
                    format: "double"
                    description: "The monthly quotas threshold before generating alert"
                    type: "number"
              apiReadOnly:
                description: "If enabled, Admin API won't be able to write/update/delete\
                  \ entities"
                type: "boolean"
              analyticsWebhooks:
                description: "Webhook that will receive all internal Otoroshi events"
                type: "array"
                items:
                  type: "object"
                  properties:
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Headers to authorize the call or whatever"
                    mtlsConfig:
                      description: "TLS config when calling webhook"
                      type: "object"
                      properties:
                        mtls:
                          description: "???"
                          type: "boolean"
                        loose:
                          description: "???"
                          type: "boolean"
                        trustAll:
                          description: "???"
                          type: "boolean"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                    url:
                      description: "The URL where events are posted"
                      type: "string"
              kafkaConfig:
                nullable: true
                description: "null type"
                type: "string"
              templates:
                description: "The otoroshi default templates for entities"
                type: "object"
                properties:
                  template:
                    nullable: true
                    description: "null type"
                    type: "string"
                  apikey:
                    nullable: true
                    description: "null type"
                    type: "string"
                  dataExporter:
                    nullable: true
                    description: "null type"
                    type: "string"
                  authConfig:
                    nullable: true
                    description: "null type"
                    type: "string"
                  certificate:
                    nullable: true
                    description: "null type"
                    type: "string"
                  tcpService:
                    nullable: true
                    description: "null type"
                    type: "string"
                  team:
                    nullable: true
                    description: "null type"
                    type: "string"
                  descriptor:
                    nullable: true
                    description: "null type"
                    type: "string"
                  script:
                    nullable: true
                    description: "null type"
                    type: "string"
                  target:
                    nullable: true
                    description: "null type"
                    type: "string"
                  route:
                    nullable: true
                    description: "null type"
                    type: "string"
                  verifier:
                    nullable: true
                    description: "null type"
                    type: "string"
                  service:
                    nullable: true
                    description: "null type"
                    type: "string"
                  backend:
                    nullable: true
                    description: "null type"
                    type: "string"
                  tenant:
                    nullable: true
                    description: "null type"
                    type: "string"
                  group:
                    nullable: true
                    description: "null type"
                    type: "string"
              enableEmbeddedMetrics:
                description: "Enable embedded metrics"
                type: "boolean"
              limitConcurrentRequests:
                description: "If enabled, Otoroshi will reject new request if too\
                  \ much at the same time"
                type: "boolean"
              maxConcurrentRequests:
                format: "int64"
                description: "The number of authorized request processed at the same\
                  \ time"
                type: "integer"
              maxHttp10ResponseSize:
                format: "int64"
                description: "The max size in bytes of an HTTP 1.0 response"
                type: "integer"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              letsEncryptSettings:
                description: "Let's encrypt (ACME) settings"
                type: "object"
                properties:
                  privateKey:
                    description: "Let's encrypt (ACME) private key"
                    type: "string"
                  contacts:
                    type: "array"
                    items:
                      type: "string"
                    description: "Let's encrypt (ACME) contacts"
                  emails:
                    type: "array"
                    items:
                      type: "string"
                    description: "Let's encrypt (ACME) contact emails"
                  enabled:
                    description: "Let's encrypt (ACME) enabled"
                    type: "boolean"
                  publicKey:
                    description: "Let's encrypt (ACME) public key"
                    type: "string"
                  server:
                    description: "Let's encrypt (ACME) server"
                    type: "string"
              autoLinkToDefaultGroup:
                description: "If not defined, every new service descriptor will be\
                  \ added to the default group"
                type: "boolean"
              throttlingQuota:
                format: "int64"
                description: "Authorized number of calls per second globally, measured\
                  \ on 10 seconds"
                type: "integer"
              snowMonkeyConfig:
                description: "Snowmonky settings"
                type: "object"
                properties:
                  dryRun:
                    description: "Whether or not outages will actualy impact requests"
                    type: "boolean"
                  targetGroups:
                    type: "array"
                    items:
                      type: "string"
                    description: "Groups impacted by Snow Monkey. If empty, all groups\
                      \ will be impacted"
                  includeUserFacingDescriptors:
                    description: "Whether or not user facing apps. will be impacted\
                      \ by Snow Monkey"
                    type: "boolean"
                  outageDurationTo:
                    description: "End of outage duration range"
                    type: "number"
                  outageDurationFrom:
                    description: "Start of outage duration range"
                    type: "number"
                  startTime:
                    description: "Start time of Snow Monkey each day"
                    type: "string"
                  stopTime:
                    description: "Stop time of Snow Monkey each day"
                    type: "string"
                  chaosConfig:
                    description: "Chaos settings"
                    type: "object"
                    properties:
                      badResponsesFaultConfig:
                        nullable: true
                        description: "null type"
                        type: "string"
                      largeResponseFaultConfig:
                        nullable: true
                        description: "null type"
                        type: "string"
                      latencyInjectionFaultConfig:
                        nullable: true
                        description: "null type"
                        type: "string"
                      largeRequestFaultConfig:
                        nullable: true
                        description: "null type"
                        type: "string"
                      enabled:
                        description: "Whether or not this config is enabled"
                        type: "boolean"
                  timesPerDay:
                    format: "int32"
                    description: "Number of time per day each service will be outage"
                    type: "integer"
                  outageStrategy:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: ""
                  enabled:
                    description: "Whether or not this config is enabled"
                    type: "boolean"
              statsdConfig:
                nullable: true
                description: "null type"
                type: "string"
              maintenanceMode:
                description: "Global maintenant mode"
                type: "boolean"
              perIpThrottlingQuota:
                format: "int64"
                description: "Authorized number of calls per second globally per IP\
                  \ address, measured on 10 seconds"
                type: "integer"
              elasticWritesConfigs:
                description: "Configs. for Elastic writes"
                type: "array"
                items:
                  type: "object"
                  properties:
                    clusterUri:
                      description: "Cluster URL"
                      type: "string"
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Additionnal headers in the http request"
                    password:
                      nullable: true
                      description: "null type"
                      type: "string"
                    indexSettings:
                      description: "Indexation settings"
                      type: "object"
                      properties:
                        clientSide:
                          description: "Enable index splitting on client side"
                          type: "boolean"
                        interval:
                          type: "string"
                          x-kubernetes-preserve-unknown-fields: true
                          description: "Index splitting interval"
                    mtlsConfig:
                      description: "TLS settings for the http client"
                      type: "object"
                      properties:
                        mtls:
                          description: "???"
                          type: "boolean"
                        loose:
                          description: "???"
                          type: "boolean"
                        trustAll:
                          description: "???"
                          type: "boolean"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                    index:
                      nullable: true
                      description: "null type"
                      type: "string"
                    type:
                      nullable: true
                      description: "null type"
                      type: "string"
                    applyTemplate:
                      description: "Enable template creation/update"
                      type: "boolean"
                    user:
                      nullable: true
                      description: "null type"
                      type: "string"
                    version:
                      nullable: true
                      description: "null type"
                      type: "string"
              trustXForwarded:
                description: "Use X-Forwarded-* headers for routing"
                type: "boolean"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "apikeys.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ApiKey"
    plural: "apikeys"
    singular: "apikey"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        description: "An otoroshi apikey that can allow you to access some services"
        type: "object"
        properties:
          metadata:
            type: "object"
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          spec:
            description: "An otoroshi apikey that can allow you to access some services"
            type: "object"
            properties:
              daikokuToken:
                description: "Integration token for Daikoku"
                type: "string"
              metadata:
                description: "Bunch of metadata for the key"
                additionalProperties:
                  type: "string"
                type: "object"
              secretName:
                type: "string"
                description: "name of the kubernetes secret"
              clientId:
                description: "The unique id of the Api Key. Usually 16 random alpha\
                  \ numerical characters, but can be anything"
                type: "string"
              clientName:
                description: "The name of the api key, for humans ;-)"
                type: "string"
              rotation:
                description: "Apikey rotation settings"
                type: "object"
                properties:
                  gracePeriod:
                    format: "int64"
                    description: "period (in hours) during which both secrets works"
                    type: "integer"
                  rotationEvery:
                    format: "int64"
                    description: "Rotate every n hours"
                    type: "integer"
                  nextSecret:
                    nullable: true
                    description: "null type"
                    type: "string"
                  enabled:
                    description: "Rotation enabled"
                    type: "boolean"
              description:
                description: "Description of this apikey"
                type: "string"
              restrictions:
                description: "Apikey restrictions settings"
                type: "object"
                properties:
                  allowed:
                    description: "???"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        path:
                          description: "???"
                          type: "string"
                        method:
                          description: "???"
                          type: "string"
                  allowLast:
                    description: "???"
                    type: "boolean"
                  forbidden:
                    description: "???"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        path:
                          description: "???"
                          type: "string"
                        method:
                          description: "???"
                          type: "string"
                  notFound:
                    description: "???"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        path:
                          description: "???"
                          type: "string"
                        method:
                          description: "???"
                          type: "string"
                  enabled:
                    description: "???"
                    type: "boolean"
              readOnly:
                description: "The apikey only allow access for GET, HEAD and OPTIONS\
                  \ verbs"
                type: "boolean"
              enabled:
                description: "Whether or not the key is enabled. If disabled, resources\
                  \ won't be available to calls using this key"
                type: "boolean"
              tags:
                description: "Apikey tags"
                type: "array"
                items:
                  type: "string"
              throttlingQuota:
                format: "int64"
                description: "Authorized number of calls per second, measured on 10\
                  \ seconds"
                type: "integer"
              constrainedServicesOnly:
                description: "This apikey can only be used on services that constrained\
                  \ their apikey routing"
                type: "boolean"
              allowClientIdOnly:
                description: "This apikey can be used juste with the client_id value"
                type: "boolean"
              monthlyQuota:
                format: "int64"
                description: "Authorized number of calls per month"
                type: "integer"
              exportSecret:
                description: "export api key as a kubernetes secret"
                type: "boolean"
              validUntil:
                nullable: true
                description: "null type"
                type: "string"
              authorizedEntities:
                description: "The group/service ids (prefixed by group_ or service_\
                  \ on which the key is authorized"
                type: "array"
                items:
                  type: "object"
                  x-kubernetes-preserve-unknown-fields: true
                  description: "no-description"
              clientSecret:
                description: "The secret of the Api Key. Usually 64 random alpha numerical\
                  \ characters, but can be anything"
                type: "string"
              location:
                description: "The location of the apikey"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              dailyQuota:
                format: "int64"
                description: "Authorized number of calls per day"
                type: "integer"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "teams.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Team"
    plural: "teams"
    singular: "team"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi model for a team of users in the organization (otoroshi-ui)"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi model for a team of users in the organization\
              \ (otoroshi-ui)"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              name:
                description: "Entity name"
                type: "string"
              description:
                description: "Entity description"
                type: "string"
              id:
                description: "Entity id"
                type: "object"
                properties:
                  rawValue:
                    description: "???"
                    type: "string"
              tenant:
                description: "Entity organization"
                type: "object"
                properties:
                  rawValue:
                    description: "???"
                    type: "string"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "route-compositions.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "RouteComposition"
    plural: "route-compositions"
    singular: "route-composition"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "A composition of multiple routes with the same plugins"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "A composition of multiple routes with the same plugins"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "The metadata of the service"
              capture:
                description: "???"
                type: "boolean"
              description:
                description: "The description of the service"
                type: "string"
              groups:
                type: "array"
                items:
                  type: "string"
                description: "The groups of the service"
              enabled:
                description: "Is the service enabled"
                type: "boolean"
              export_reporting:
                description: "Export the execution reporting through standard data\
                  \ exporter"
                type: "boolean"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "The tags of the service"
              debug_flow:
                description: "Enable report debugging"
                type: "boolean"
              routes:
                description: "The routes of the service"
                type: "array"
                items:
                  type: "object"
                  properties:
                    backend_ref:
                      nullable: true
                      description: "null type"
                      type: "string"
                    override_plugins:
                      description: "???"
                      type: "boolean"
                    backend:
                      description: "The backend of the route"
                      type: "object"
                      properties:
                        target_refs:
                          type: "array"
                          items:
                            type: "string"
                          description: "List of NgStoredBackend ids"
                        root:
                          description: "The root path of the backend or the full rewrite\
                            \ path"
                          type: "string"
                        targets:
                          description: "The targets of the backend"
                          type: "array"
                          items:
                            type: "object"
                            properties:
                              predicate:
                                type: "object"
                                x-kubernetes-preserve-unknown-fields: true
                                description: "Predicate to choose this target"
                              protocol:
                                description: "Protocol for the target"
                                type: "string"
                              hostname:
                                description: "hostname of the target"
                                type: "string"
                              port:
                                format: "int32"
                                description: "port of the target"
                                type: "integer"
                              weight:
                                format: "int32"
                                description: "The weight of the target when choosing"
                                type: "integer"
                              tls:
                                description: "Does the target uses TLS"
                                type: "boolean"
                              tls_config:
                                description: "TLS settings to contact this target"
                                type: "object"
                                properties:
                                  enabled:
                                    description: "Enabled"
                                    type: "boolean"
                                  certs:
                                    type: "array"
                                    items:
                                      type: "string"
                                    description: "Trusted cert. ids"
                                  loose:
                                    description: "Loose verification"
                                    type: "boolean"
                                  trust_all:
                                    description: "Trust any certificate"
                                    type: "boolean"
                                  trusted_certs:
                                    type: "array"
                                    items:
                                      type: "string"
                                    description: "Trusted cert. ids"
                              id:
                                description: "id of the target"
                                type: "string"
                              ip_address:
                                nullable: true
                                description: "null type"
                                type: "string"
                        rewrite:
                          description: "Does the backend performs a full url rewrite\
                            \ ?"
                          type: "boolean"
                        load_balancing:
                          type: "object"
                          x-kubernetes-preserve-unknown-fields: true
                          description: "Loadbalancing config og the backend"
                    frontend:
                      description: "The frontend of the route"
                      type: "object"
                      properties:
                        headers:
                          type: "object"
                          additionalProperties:
                            type: "string"
                          description: "the headers that will be matched"
                        methods:
                          type: "array"
                          items:
                            type: "string"
                          description: "the http methods that will be matched"
                        query:
                          type: "object"
                          additionalProperties:
                            type: "string"
                          description: "the query params that will be matched"
                        exact:
                          description: "Match on exact path ?"
                          type: "boolean"
                        domains:
                          description: "The domain and path that will be matched"
                          type: "array"
                          items:
                            type: "object"
                            properties:
                              raw:
                                description: "the raw value of the domain and path"
                                type: "string"
                        strip_path:
                          description: "Is path stripped from backend request"
                          type: "boolean"
              name:
                description: "The name of the service"
                type: "string"
              client:
                description: "The client config of the service"
                type: "object"
                properties:
                  custom_timeouts:
                    description: "Custom timeouts per path"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        connection_timeout:
                          format: "int64"
                          description: "Timeout at connection"
                          type: "integer"
                        call_and_stream_timeout:
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (hard timeout, connection will\
                            \ be closed after that duration)"
                          type: "integer"
                        path:
                          description: "path on which this configuration works"
                          type: "string"
                        call_timeout:
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (soft timeout as it's enforced\
                            \ by the circuit breaker)"
                          type: "integer"
                        idle_timeout:
                          format: "int64"
                          description: "Timeout on idle connection"
                          type: "integer"
                        global_timeout:
                          format: "int64"
                          description: "Specify how long the global call (with retries)\
                            \ should last at most in milliseconds"
                          type: "integer"
                  global_timeout:
                    format: "int64"
                    description: "Specify how long the global call (with retries)\
                      \ should last at most in milliseconds"
                    type: "integer"
                  max_errors:
                    format: "int32"
                    description: "Specify how many errors can pass before opening\
                      \ the circuit breaker"
                    type: "integer"
                  retry_initial_delay:
                    format: "int64"
                    description: "Specify the delay between two retries. Each retry,\
                      \ the delay is multiplied by the backoff factor"
                    type: "integer"
                  backoff_factor:
                    format: "int64"
                    description: "Specify the factor to multiply the delay for each\
                      \ retry"
                    type: "integer"
                  cache_connection_settings:
                    description: "Cached connection settings"
                    type: "object"
                    properties:
                      queue_size:
                        format: "int32"
                        description: "How much request can be queue before dropping\
                          \ it"
                        type: "integer"
                      enabled:
                        description: "Is cached connection enabled"
                        type: "boolean"
                  sample_interval:
                    format: "int64"
                    description: "Specify the sliding window time for the circuit\
                      \ breaker in milliseconds, after this time, error count will\
                      \ be reseted"
                    type: "integer"
                  call_and_stream_timeout:
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (hard timeout, connection will be closed after\
                      \ that duration)"
                    type: "integer"
                  retries:
                    format: "int32"
                    description: "Specify how many times the client will try to fetch\
                      \ the result of the request after an error before giving up."
                    type: "integer"
                  proxy:
                    nullable: true
                    description: "null type"
                    type: "string"
                  call_timeout:
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (soft timeout as it's enforced by the circuit\
                      \ breaker)"
                    type: "integer"
                  idle_timeout:
                    format: "int64"
                    description: "Timeout on idle connection"
                    type: "integer"
                  connection_timeout:
                    format: "int64"
                    description: "Timeout at connection"
                    type: "integer"
              location:
                description: "The location of the service"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              id:
                description: "The id of the service"
                type: "string"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "tcp-services.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "TcpService"
    plural: "tcp-services"
    singular: "tcp-service"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "Model for a TCP proxy"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "Model for a TCP proxy"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              description:
                description: "Entity description"
                type: "string"
              rules:
                description: "Routing rules"
                type: "array"
                items:
                  type: "object"
                  properties:
                    domain:
                      description: "match on SNI domain"
                      type: "string"
                    targets:
                      description: "TCP targets"
                      type: "array"
                      items:
                        type: "object"
                        properties:
                          port:
                            format: "int32"
                            description: "Target port"
                            type: "integer"
                          ip:
                            nullable: true
                            description: "null type"
                            type: "string"
                          host:
                            description: "Target host"
                            type: "string"
                          tls:
                            description: "Use tls"
                            type: "boolean"
              interface:
                description: "Network interface"
                type: "string"
              enabled:
                description: "Service enabled"
                type: "boolean"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              sni:
                description: "SNI settings"
                type: "object"
                properties:
                  forwardIfNoMatch:
                    description: ""
                    type: "boolean"
                  enabled:
                    description: "SNI extraction enabled"
                    type: "boolean"
                  forwardsTo:
                    description: "forwards call to"
                    type: "object"
                    properties:
                      port:
                        format: "int32"
                        description: "Target port"
                        type: "integer"
                      ip:
                        nullable: true
                        description: "null type"
                        type: "string"
                      host:
                        description: "Target host"
                        type: "string"
                      tls:
                        description: "Use tls"
                        type: "boolean"
              port:
                format: "int32"
                description: "network port"
                type: "integer"
              name:
                description: "Entity name"
                type: "string"
              tls:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "TLS mode"
              location:
                description: "Entity location"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              id:
                description: "Entity id"
                type: "string"
              clientAuth:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Use client authentication"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "backends.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Backend"
    plural: "backends"
    singular: "backend"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "A backend representation with it's targets, load balancing and\
          \ general settings"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "A backend representation with it's targets, load balancing\
              \ and general settings"
            properties:
              target_refs:
                type: "array"
                items:
                  type: "string"
                description: "List of NgStoredBackend ids"
              root:
                description: "The root path of the backend or the full rewrite path"
                type: "string"
              client:
                description: "Client config. of the backend"
                type: "object"
                properties:
                  custom_timeouts:
                    description: "Custom timeouts per path"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        connection_timeout:
                          format: "int64"
                          description: "Timeout at connection"
                          type: "integer"
                        call_and_stream_timeout:
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (hard timeout, connection will\
                            \ be closed after that duration)"
                          type: "integer"
                        path:
                          description: "path on which this configuration works"
                          type: "string"
                        call_timeout:
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (soft timeout as it's enforced\
                            \ by the circuit breaker)"
                          type: "integer"
                        idle_timeout:
                          format: "int64"
                          description: "Timeout on idle connection"
                          type: "integer"
                        global_timeout:
                          format: "int64"
                          description: "Specify how long the global call (with retries)\
                            \ should last at most in milliseconds"
                          type: "integer"
                  global_timeout:
                    format: "int64"
                    description: "Specify how long the global call (with retries)\
                      \ should last at most in milliseconds"
                    type: "integer"
                  max_errors:
                    format: "int32"
                    description: "Specify how many errors can pass before opening\
                      \ the circuit breaker"
                    type: "integer"
                  retry_initial_delay:
                    format: "int64"
                    description: "Specify the delay between two retries. Each retry,\
                      \ the delay is multiplied by the backoff factor"
                    type: "integer"
                  backoff_factor:
                    format: "int64"
                    description: "Specify the factor to multiply the delay for each\
                      \ retry"
                    type: "integer"
                  cache_connection_settings:
                    description: "Cached connection settings"
                    type: "object"
                    properties:
                      queue_size:
                        format: "int32"
                        description: "How much request can be queue before dropping\
                          \ it"
                        type: "integer"
                      enabled:
                        description: "Is cached connection enabled"
                        type: "boolean"
                  sample_interval:
                    format: "int64"
                    description: "Specify the sliding window time for the circuit\
                      \ breaker in milliseconds, after this time, error count will\
                      \ be reseted"
                    type: "integer"
                  call_and_stream_timeout:
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (hard timeout, connection will be closed after\
                      \ that duration)"
                    type: "integer"
                  retries:
                    format: "int32"
                    description: "Specify how many times the client will try to fetch\
                      \ the result of the request after an error before giving up."
                    type: "integer"
                  proxy:
                    nullable: true
                    description: "null type"
                    type: "string"
                  call_timeout:
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (soft timeout as it's enforced by the circuit\
                      \ breaker)"
                    type: "integer"
                  idle_timeout:
                    format: "int64"
                    description: "Timeout on idle connection"
                    type: "integer"
                  connection_timeout:
                    format: "int64"
                    description: "Timeout at connection"
                    type: "integer"
              health_check:
                nullable: true
                description: "null type"
                type: "string"
              targets:
                description: "The targets of the backend"
                type: "array"
                items:
                  type: "object"
                  properties:
                    predicate:
                      type: "object"
                      x-kubernetes-preserve-unknown-fields: true
                      description: "Predicate to choose this target"
                    protocol:
                      description: "Protocol for the target"
                      type: "string"
                    hostname:
                      description: "hostname of the target"
                      type: "string"
                    port:
                      format: "int32"
                      description: "port of the target"
                      type: "integer"
                    weight:
                      format: "int32"
                      description: "The weight of the target when choosing"
                      type: "integer"
                    tls:
                      description: "Does the target uses TLS"
                      type: "boolean"
                    tls_config:
                      description: "TLS settings to contact this target"
                      type: "object"
                      properties:
                        enabled:
                          description: "Enabled"
                          type: "boolean"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                        loose:
                          description: "Loose verification"
                          type: "boolean"
                        trust_all:
                          description: "Trust any certificate"
                          type: "boolean"
                        trusted_certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                    id:
                      description: "id of the target"
                      type: "string"
                    ip_address:
                      nullable: true
                      description: "null type"
                      type: "string"
              rewrite:
                description: "Does the backend performs a full url rewrite ?"
                type: "boolean"
              load_balancing:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Loadbalancing config og the backend"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "auth-modules.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "AuthModule"
    plural: "auth-modules"
    singular: "auth-module"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "???"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            x-kubernetes-preserve-unknown-fields: true
            description: "???"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "jwt-verifiers.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "JwtVerifier"
    plural: "jwt-verifiers"
    singular: "jwt-verifier"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        description: "Otoroshi model for JWT token verifier"
        type: "object"
        properties:
          metadata:
            type: "object"
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          spec:
            description: "Otoroshi model for JWT token verifier"
            type: "object"
            properties:
              metadata:
                description: "Entity metadata"
                additionalProperties:
                  type: "string"
                type: "object"
              algoSettings:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Algo settings of the verifier"
              name:
                description: "Verifier name"
                type: "string"
              location:
                description: "Entity location"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              id:
                description: "Verifier id"
                type: "string"
              source:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Where to find the jwt token"
              strict:
                description: "Does it fail if JWT not found"
                type: "boolean"
              strategy:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "The strategy of the verifier"
              type:
                type: "string"
                description: "the kind of jwt verifier"
              desc:
                description: "Verifier description"
                type: "string"
              tags:
                description: "Entity tags"
                type: "array"
                items:
                  type: "string"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "data-exporters.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "DataExporter"
    plural: "data-exporters"
    singular: "data-exporter"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "Module to export otoroshi specific events to whatever destination\
          \ you want"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "Module to export otoroshi specific events to whatever destination\
              \ you want"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Metadata"
              type:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Type of data exporter"
              enabled:
                description: "Boolean"
                type: "boolean"
              groupDuration:
                description: "duration"
                type: "number"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              jsonWorkers:
                format: "int32"
                description: "nb workers"
                type: "integer"
              name:
                description: "Name"
                type: "string"
              groupSize:
                format: "int32"
                description: "Group size"
                type: "integer"
              location:
                description: "location"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              id:
                description: "Id"
                type: "string"
              projection:
                description: "projection"
                type: "object"
              config:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Data Exporter config"
              filtering:
                description: "filtering"
                type: "object"
                properties:
                  include:
                    type: "array"
                    items:
                      type: "object"
                    description: "Exclude the events matching one of those filters"
                  exclude:
                    type: "array"
                    items:
                      type: "object"
                    description: "Include the events matching one of those filters"
              sendWorkers:
                format: "int32"
                description: "send workers"
                type: "integer"
              desc:
                description: "Description"
                type: "string"
              bufferSize:
                format: "int32"
                description: "buffer size"
                type: "integer"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "routes.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Route"
    plural: "routes"
    singular: "route"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "A routing primitive representing how a request is matched and\
          \ where the request is forwarded"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "A routing primitive representing how a request is matched\
              \ and where the request is forwarded"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "The metadata of the route"
              backend_ref:
                nullable: true
                description: "null type"
                type: "string"
              capture:
                description: "???"
                type: "boolean"
              groups:
                type: "array"
                items:
                  type: "string"
                description: "The groups of the route"
              description:
                description: "The description of the route"
                type: "string"
              enabled:
                description: "Is the route enabled"
                type: "boolean"
              export_reporting:
                description: "Export the execution reporting through standard data\
                  \ exporter"
                type: "boolean"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "The tags of the route"
              debug_flow:
                description: "Enable report debugging"
                type: "boolean"
              name:
                description: "The name of the route"
                type: "string"
              location:
                description: "The location of the route"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              backend:
                description: "The backend of the route"
                type: "object"
                properties:
                  target_refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "List of NgStoredBackend ids"
                  root:
                    description: "The root path of the backend or the full rewrite\
                      \ path"
                    type: "string"
                  client:
                    description: "Client config. of the backend"
                    type: "object"
                    properties:
                      custom_timeouts:
                        description: "Custom timeouts per path"
                        type: "array"
                        items:
                          type: "object"
                          properties:
                            connection_timeout:
                              format: "int64"
                              description: "Timeout at connection"
                              type: "integer"
                            call_and_stream_timeout:
                              format: "int64"
                              description: "Specify how long each call should last\
                                \ at most in milliseconds (hard timeout, connection\
                                \ will be closed after that duration)"
                              type: "integer"
                            path:
                              description: "path on which this configuration works"
                              type: "string"
                            call_timeout:
                              format: "int64"
                              description: "Specify how long each call should last\
                                \ at most in milliseconds (soft timeout as it's enforced\
                                \ by the circuit breaker)"
                              type: "integer"
                            idle_timeout:
                              format: "int64"
                              description: "Timeout on idle connection"
                              type: "integer"
                            global_timeout:
                              format: "int64"
                              description: "Specify how long the global call (with\
                                \ retries) should last at most in milliseconds"
                              type: "integer"
                      global_timeout:
                        format: "int64"
                        description: "Specify how long the global call (with retries)\
                          \ should last at most in milliseconds"
                        type: "integer"
                      max_errors:
                        format: "int32"
                        description: "Specify how many errors can pass before opening\
                          \ the circuit breaker"
                        type: "integer"
                      retry_initial_delay:
                        format: "int64"
                        description: "Specify the delay between two retries. Each\
                          \ retry, the delay is multiplied by the backoff factor"
                        type: "integer"
                      backoff_factor:
                        format: "int64"
                        description: "Specify the factor to multiply the delay for\
                          \ each retry"
                        type: "integer"
                      cache_connection_settings:
                        description: "Cached connection settings"
                        type: "object"
                        properties:
                          queue_size:
                            format: "int32"
                            description: "How much request can be queue before dropping\
                              \ it"
                            type: "integer"
                          enabled:
                            description: "Is cached connection enabled"
                            type: "boolean"
                      sample_interval:
                        format: "int64"
                        description: "Specify the sliding window time for the circuit\
                          \ breaker in milliseconds, after this time, error count\
                          \ will be reseted"
                        type: "integer"
                      call_and_stream_timeout:
                        format: "int64"
                        description: "Specify how long each call should last at most\
                          \ in milliseconds (hard timeout, connection will be closed\
                          \ after that duration)"
                        type: "integer"
                      retries:
                        format: "int32"
                        description: "Specify how many times the client will try to\
                          \ fetch the result of the request after an error before\
                          \ giving up."
                        type: "integer"
                      proxy:
                        nullable: true
                        description: "null type"
                        type: "string"
                      call_timeout:
                        format: "int64"
                        description: "Specify how long each call should last at most\
                          \ in milliseconds (soft timeout as it's enforced by the\
                          \ circuit breaker)"
                        type: "integer"
                      idle_timeout:
                        format: "int64"
                        description: "Timeout on idle connection"
                        type: "integer"
                      connection_timeout:
                        format: "int64"
                        description: "Timeout at connection"
                        type: "integer"
                  health_check:
                    nullable: true
                    description: "null type"
                    type: "string"
                  targets:
                    description: "The targets of the backend"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        predicate:
                          type: "object"
                          x-kubernetes-preserve-unknown-fields: true
                          description: "Predicate to choose this target"
                        protocol:
                          description: "Protocol for the target"
                          type: "string"
                        hostname:
                          description: "hostname of the target"
                          type: "string"
                        port:
                          format: "int32"
                          description: "port of the target"
                          type: "integer"
                        weight:
                          format: "int32"
                          description: "The weight of the target when choosing"
                          type: "integer"
                        tls:
                          description: "Does the target uses TLS"
                          type: "boolean"
                        tls_config:
                          description: "TLS settings to contact this target"
                          type: "object"
                          properties:
                            enabled:
                              description: "Enabled"
                              type: "boolean"
                            certs:
                              type: "array"
                              items:
                                type: "string"
                              description: "Trusted cert. ids"
                            loose:
                              description: "Loose verification"
                              type: "boolean"
                            trust_all:
                              description: "Trust any certificate"
                              type: "boolean"
                            trusted_certs:
                              type: "array"
                              items:
                                type: "string"
                              description: "Trusted cert. ids"
                        id:
                          description: "id of the target"
                          type: "string"
                        ip_address:
                          nullable: true
                          description: "null type"
                          type: "string"
                  rewrite:
                    description: "Does the backend performs a full url rewrite ?"
                    type: "boolean"
                  load_balancing:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Loadbalancing config og the backend"
              id:
                description: "The ud of the route"
                type: "string"
              frontend:
                description: "The frontend of the route"
                type: "object"
                properties:
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "the headers that will be matched"
                  methods:
                    type: "array"
                    items:
                      type: "string"
                    description: "the http methods that will be matched"
                  query:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "the query params that will be matched"
                  exact:
                    description: "Match on exact path ?"
                    type: "boolean"
                  domains:
                    description: "The domain and path that will be matched"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        raw:
                          description: "the raw value of the domain and path"
                          type: "string"
                  strip_path:
                    description: "Is path stripped from backend request"
                    type: "boolean"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "admins.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Admin"
    plural: "admins"
    singular: "admin"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi admin user"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi admin user"
            properties:
              createdAt:
                description: "User creation date"
                type: "number"
              password:
                description: "User password (bcrypt hashed)"
                type: "string"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              rights:
                description: "User rights"
                type: "object"
                properties:
                  rights:
                    description: "Access rights of a user"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        teams:
                          description: "Access rights on teams"
                          type: "array"
                          items:
                            type: "object"
                            properties:
                              canRead:
                                description: "Can this access right read data"
                                type: "boolean"
                              value:
                                description: "Access pattern"
                                type: "string"
                              canWrite:
                                description: "Can this access right write data"
                                type: "boolean"
                        tenant:
                          description: "Access rights on organizations"
                          type: "object"
                          properties:
                            canWrite:
                              description: "Can this access right write data"
                              type: "boolean"
                            value:
                              description: "Access pattern"
                              type: "string"
                            canRead:
                              description: "Can this access right read data"
                              type: "boolean"
              type:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Type of user"
              location:
                description: "Entity location"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              label:
                description: "User label"
                type: "string"
              username:
                description: "User username"
                type: "string"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "scripts.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Script"
    plural: "scripts"
    singular: "script"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi plugins stored as scala code in the otoroshi datastore"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi plugins stored as scala code in the otoroshi\
              \ datastore"
            properties:
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              code:
                description: "The code of the script"
                type: "string"
              name:
                description: "The name of the script"
                type: "string"
              location:
                description: "Entity location"
                type: "object"
                properties:
                  teams:
                    description: "Teams of the current entity"
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        rawValue:
                          description: "???"
                          type: "string"
                  tenant:
                    description: "Organization of the current entity"
                    type: "object"
                    properties:
                      rawValue:
                        description: "???"
                        type: "string"
              id:
                description: "The id of the script"
                type: "string"
              type:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Plugin type"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              desc:
                description: "The description of the script"
                type: "string"
