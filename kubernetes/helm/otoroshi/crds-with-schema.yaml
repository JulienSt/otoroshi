---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "service-groups.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ServiceGroup"
    plural: "service-groups"
    singular: "service-group"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The otoroshi model for a group of services"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The otoroshi model for a group of services"
            properties:
              id:
                type: "string"
                description: "A unique random string to identify your service"
              location:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              name:
                type: "string"
                description: "The name of your service. Only for debug and human readability\
                  \ purposes"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Just a bunch of random properties"
              description:
                type: "string"
                description: "Entity description"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "certificates.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Certificate"
    plural: "certificates"
    singular: "certificate"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The otoroshi model for X509 certificates"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The otoroshi model for X509 certificates"
            properties:
              letsEncrypt:
                type: "boolean"
                description: "Let's encrypt (ACME) generated"
              keypair:
                type: "boolean"
                description: "Is cert used for its keypair only ?"
              to:
                type: "number"
                description: "Stop date"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              exposed:
                type: "boolean"
                description: "Is the cert exposed (public key exposed in jwks.json)"
              autoRenew:
                type: "boolean"
                description: "Auto renew cert"
              id:
                type: "string"
                description: "Entity id"
              revoked:
                type: "boolean"
                description: "Certificate is revoked"
              from:
                type: "number"
                description: "Start date"
              client:
                type: "boolean"
                description: "Is cert a client cert ?"
              ca:
                type: "boolean"
                description: "Is cert a CA ?"
              name:
                type: "string"
                description: "Entity name"
              chain:
                type: "string"
                description: "Certicates chain (PEM encoded)"
              location:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              password:
                description: "null type"
                type: "string"
                nullable: true
              sans:
                type: "array"
                items:
                  type: "string"
                description: "Certificate SANs"
              selfSigned:
                type: "boolean"
                description: "Is cert self signed"
              entityMetadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              privateKey:
                type: "string"
                description: "Certificate private key (PEM encoded)"
              domain:
                type: "string"
                description: "Certificate domain"
              caRef:
                description: "null type"
                type: "string"
                nullable: true
              description:
                type: "string"
                description: "Entity description"
              subject:
                type: "string"
                description: "Certificate subject"
              valid:
                type: "boolean"
                description: "Is cert valid"
              certType:
                type: "string"
                description: "the kind of certificate"
              exportSecret:
                type: "boolean"
                description: "export certificate as a kubernetes secret"
              secretName:
                type: "string"
                description: "name of the kubernetes secret"
              csr:
                type: "object"
                description: "Settings for generating a certificate"
                properties:
                  client:
                    type: "boolean"
                    description: "Is cert client ?"
                  hosts:
                    type: "array"
                    items:
                      type: "string"
                    description: "Certificate SANs"
                  key:
                    description: "Keypair specs"
                    properties:
                      algo:
                        type: "string"
                        description: "Keypair algorithm"
                      size:
                        type: "integer"
                        format: "int32"
                        description: "Keypair size"
                    type: "object"
                  includeAIA:
                    type: "boolean"
                    description: "Include AIA extension (if generated from otoroshi\
                      \ CA)"
                  signatureAlg:
                    type: "string"
                    description: "Signature algorithm"
                  existingSerialNumber:
                    description: "null type"
                    type: "string"
                    nullable: true
                  duration:
                    type: "number"
                    description: "Certificate lifespan"
                  digestAlg:
                    type: "string"
                    description: "Digest algo"
                  ca:
                    type: "boolean"
                    description: "Is cert ca ?"
                  name:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Certificate name"
                  subject:
                    description: "null type"
                    type: "string"
                    nullable: true
                  issuer:
                    type: "string"
                    description: "the issuer of the csr query"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "service-descriptors.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ServiceDescriptor"
    plural: "service-descriptors"
    singular: "service-descriptor"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The otoroshi model for a service (handles routing)"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The otoroshi model for a service (handles routing)"
            properties:
              buildMode:
                type: "boolean"
                description: "Display a construction page when a user try to use the\
                  \ service"
              hosts:
                type: "array"
                items:
                  type: "string"
                description: "Possible hosts for the service"
              privateApp:
                type: "boolean"
                description: "When enabled, user will be allowed to use the service\
                  \ (UI) only if they are registered users of the private apps domain"
              localScheme:
                type: "string"
                description: "The scheme used localy, mainly http"
              authConfigRef:
                description: "null type"
                type: "string"
                nullable: true
              issueCertCA:
                description: "null type"
                type: "string"
                nullable: true
              root:
                type: "string"
                description: "Otoroshi will append this root to any target choosen.\
                  \ If the specified root is '/api/foo', then a request to https://yyyyyyy/bar\
                  \ will actually hit https://xxxxxxxxx/api/foo/bar"
              name:
                type: "string"
                description: "The name of your service. Only for debug and human readability\
                  \ purposes"
              additionalHeaders:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Specify headers that will be added to each client request.\
                  \ Useful to add authentication"
              domain:
                type: "string"
                description: "The domain on which the service is available."
              clientConfig:
                description: "Http client settings"
                properties:
                  connectionTimeout:
                    type: "integer"
                    format: "int64"
                    description: "Timeout at connection"
                  useCircuitBreaker:
                    type: "boolean"
                    description: "Use a circuit breaker to avoid cascading failure\
                      \ when calling chains of services. Highly recommended !"
                  retryInitialDelay:
                    type: "integer"
                    format: "int64"
                    description: "Specify the delay between two retries. Each retry,\
                      \ the delay is multiplied by the backoff factor"
                  cacheConnectionSettings:
                    description: "Cached connection settings"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "Enable Cached connections at host tevel"
                      queueSize:
                        type: "integer"
                        format: "int32"
                        description: "The size for the request queue"
                    type: "object"
                  proxy:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy settings for http client"
                  callTimeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (soft timeout as it's enforced by the circuit\
                      \ breaker)"
                  callAndStreamTimeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (hard timeout, connection will be closed after\
                      \ that duration)"
                  globalTimeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long the global call (with retries)\
                      \ should last at most in milliseconds"
                  maxErrors:
                    type: "integer"
                    format: "int32"
                    description: "Specify how many errors can pass before opening\
                      \ the circuit breaker"
                  retries:
                    type: "integer"
                    format: "int32"
                    description: "Specify how many times the client will try to fetch\
                      \ the result of the request after an error before giving up."
                  backoffFactor:
                    type: "integer"
                    format: "int64"
                    description: "Specify the factor to multiply the delay for each\
                      \ retry"
                  customTimeouts:
                    type: "array"
                    items:
                      properties:
                        path:
                          type: "string"
                          description: "path on which this configuration works"
                        callAndStreamTimeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (hard timeout, connection will\
                            \ be closed after that duration)"
                        callTimeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (soft timeout as it's enforced\
                            \ by the circuit breaker)"
                        idleTimeout:
                          type: "integer"
                          format: "int64"
                          description: "Timeout on idle connection"
                        globalTimeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long the global call (with retries)\
                            \ should last at most in milliseconds"
                        connectionTimeout:
                          type: "integer"
                          format: "int64"
                          description: "Timeout at connection"
                      type: "object"
                    description: "Custom timeouts per path"
                  idleTimeout:
                    type: "integer"
                    format: "int64"
                    description: "Timeout on idle connection"
                  sampleInterval:
                    type: "integer"
                    format: "int64"
                    description: "Specify the sliding window time for the circuit\
                      \ breaker in milliseconds, after this time, error count will\
                      \ be reseted"
                type: "object"
              matchingRoot:
                description: "null type"
                type: "string"
                nullable: true
              forceHttps:
                type: "boolean"
                description: "Will force redirection to https:// if not present"
              localHost:
                type: "string"
                description: "The host used localy, mainly localhost:xxxx"
              sendOtoroshiHeadersBack:
                type: "boolean"
                description: "When enabled, Otoroshi will send headers to consumer\
                  \ like request id, client latency, overhead, etc ..."
              healthCheck:
                description: "Healthcheck settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Whether or not healthcheck is enabled on the current\
                      \ service descriptor"
                  url:
                    type: "string"
                    description: "The URL to check"
                  timeout:
                    type: "integer"
                    format: "int32"
                    description: "???"
                type: "object"
              strictlyPrivate:
                type: "boolean"
                description: "When strictly private, private app session will not\
                  \ pass apikey filters"
              detectApiKeySooner:
                type: "boolean"
                description: "Detect if an apikey is present but do not fail if not"
              allowHttp10:
                type: "boolean"
                description: "Allow HTTP/1.0 requests"
              subdomain:
                type: "string"
                description: "The subdomain on which the service is available"
              paths:
                type: "array"
                items:
                  type: "string"
                description: "Matching paths on request"
              stripPath:
                type: "boolean"
                description: "Strip matching path in the forwarded request path"
              secComAlgoChallengeOtoToBack:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Algorithm to sign challenge token to the backend"
              apiKeyConstraints:
                description: "Routing and extraction constraints for the apikeyh"
                properties:
                  customHeadersAuth:
                    description: "Settings to extract apikey from custom headers"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "Constraint enabled"
                      clientIdHeaderName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      clientSecretHeaderName:
                        description: "null type"
                        type: "string"
                        nullable: true
                    type: "object"
                  routing:
                    description: "Routing settings for this apikey"
                    properties:
                      oneTagIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "outing if one tag presents in apikey"
                      noneMetaKeysIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "Routing if none meta keys presents in apikey"
                      oneMetaIn:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "Routing if one meta presents in apikey"
                      oneMetaKeyIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "Routing if one meta key presents in apikey"
                      allMetaKeysIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "Routing if all meta keys presents in apikey"
                      noneTagIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "Routing if none tags presents in apikey"
                      allTagsIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "Routing if all tags presents in apikey"
                      allMetaIn:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "Routing if all meta presents in apikey"
                      noneMetaIn:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "Routing if none meta presents in apikey"
                    type: "object"
                  clientIdAuth:
                    description: "Settings to extract client_id only apikey"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "Constraint enabled"
                      headerName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      queryName:
                        description: "null type"
                        type: "string"
                        nullable: true
                    type: "object"
                  jwtAuth:
                    description: "Settings to extract apikey from jwt token"
                    properties:
                      keyPairSigned:
                        type: "boolean"
                        description: "The jwt token is signed by a keypair from a\
                          \ cert found from its id in apikey meta. 'jwt-sign-keypair'"
                      cookieName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      queryName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      headerName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      secretSigned:
                        type: "boolean"
                        description: "Jwt token signed with the client_secret"
                      maxJwtLifespanSecs:
                        description: "null type"
                        type: "string"
                        nullable: true
                      enabled:
                        type: "boolean"
                        description: "Constraint enabled"
                      includeRequestAttributes:
                        type: "boolean"
                        description: "Jwt token should include verb and path"
                    type: "object"
                  basicAuth:
                    description: "Settings to extract basic auth style apikey"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "Constraint enabled"
                      headerName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      queryName:
                        description: "null type"
                        type: "string"
                        nullable: true
                    type: "object"
                type: "object"
              env:
                type: "string"
                description: "The line on which the service is available. Based on\
                  \ that value, the name of the line will be appended to the subdomain.\
                  \ For line prod, nothing will be appended. For example, if the subdomain\
                  \ is 'foo' and line is 'preprod', then the exposed service will\
                  \ be available at 'foo.preprod.mydomain'"
              xForwardedHeaders:
                type: "boolean"
                description: "Send X-Forwarded-* headers"
              transformerRefs:
                type: "array"
                items:
                  type: "string"
                description: "Enabled transformer plugins"
              enabled:
                type: "boolean"
                description: "Activate or deactivate your service. Once disabled,\
                  \ users will get an error page saying the service does not exist"
              gzip:
                description: "GZIP settings"
                properties:
                  compressionLevel:
                    type: "integer"
                    format: "int32"
                    description: "Compression level (0 - 9)"
                  blackList:
                    type: "array"
                    items:
                      type: "string"
                    description: "blocklisted content types"
                  chunkedThreshold:
                    type: "integer"
                    format: "int32"
                    description: "Chunk size"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "Excluded paths"
                  bufferSize:
                    type: "integer"
                    format: "int32"
                    description: "Buffer size in bytes"
                  whiteList:
                    type: "array"
                    items:
                      type: "string"
                    description: "allow listed content types"
                  enabled:
                    type: "boolean"
                    description: "Gzip enabled"
                type: "object"
              sendInfoToken:
                type: "boolean"
                description: "Should otoroshi send info token"
              tcpUdpTunneling:
                type: "boolean"
                description: "Enabled TCP/UDP tunneling through websocket connection"
              removeHeadersOut:
                type: "array"
                items:
                  type: "string"
                description: "Remove headers on client response"
              useAkkaHttpClient:
                type: "boolean"
                description: "Use akka http client for this service"
              maintenanceMode:
                type: "boolean"
                description: "Display a maintainance page when a user try to use the\
                  \ service"
              id:
                type: "string"
                description: "A unique random string to identify your service"
              removeHeadersIn:
                type: "array"
                items:
                  type: "string"
                description: "Remove headers on client request"
              logAnalyticsOnServer:
                type: "boolean"
                description: "Log analytics event on the server"
              secComAlgoInfoToken:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Algorithm to verify/sign challenge token coming from/to\
                  \ the backend"
              userFacing:
                type: "boolean"
                description: "The fact that this service will be seen by users and\
                  \ cannot be impacted by the Snow Monkey"
              transformerConfig:
                type: "object"
                description: "Transformer plugins configuration"
              clientValidatorRef:
                description: "null type"
                type: "string"
                nullable: true
              securityExcludedPatterns:
                type: "array"
                items:
                  type: "string"
                description: "Exclude some paths"
              ipFiltering:
                description: "Ip filtering settings"
                properties:
                  whitelist:
                    type: "array"
                    items:
                      type: "string"
                    description: "Whitelisted IP addresses"
                  blacklist:
                    type: "array"
                    items:
                      type: "string"
                    description: "Blacklisted IP addresses"
                type: "object"
              redirection:
                description: "Redirection settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Whether or not redirection is enabled"
                  code:
                    type: "integer"
                    format: "int32"
                    description: "The http redirect code"
                  to:
                    type: "string"
                    description: "The location for redirection"
                type: "object"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              restrictions:
                description: "Restriction settings"
                properties:
                  forbidden:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "Method of the http request"
                        path:
                          type: "string"
                          description: "Path of the http request"
                      type: "object"
                    description: "Forbidden paths (return 403)"
                  allowed:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "Method of the http request"
                        path:
                          type: "string"
                          description: "Path of the http request"
                      type: "object"
                    description: "Allowed paths"
                  notFound:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "Method of the http request"
                        path:
                          type: "string"
                          description: "Path of the http request"
                      type: "object"
                    description: "Not found paths (return 404)"
                  allowLast:
                    type: "boolean"
                    description: "Evalute allowed paths after everything else"
                  enabled:
                    type: "boolean"
                    description: "Restrictions enabled"
                type: "object"
              overrideHost:
                type: "boolean"
                description: "Host header will be overriden with Host of the target"
              accessValidator:
                description: "Service access validatiors"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Access validator plugins enabled"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "Excluded paths"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "Enabled plugins"
                  config:
                    type: "object"
                    description: "Access validator plugins configuration"
                type: "object"
              sendStateChallenge:
                type: "boolean"
                description: "Should otoroshi send challenge token"
              chaosConfig:
                description: "Chaos engineering settings"
                properties:
                  badResponsesFaultConfig:
                    description: "Settings for bad responses"
                    type: "object"
                    properties:
                      ratio:
                        type: "number"
                        format: "double"
                        description: "The percentage of requests affected by this\
                          \ fault. Value should be between 0.0 and 1.0"
                      responses:
                        type: "array"
                        items:
                          properties:
                            status:
                              type: "integer"
                              format: "int32"
                              description: "The HTTP status for the response"
                            body:
                              type: "string"
                              description: "The body of the HTTP response"
                            headers:
                              type: "object"
                              additionalProperties:
                                type: "string"
                              description: "The HTTP headers of the response"
                          type: "object"
                        description: "The possibles responses"
                  largeRequestFaultConfig:
                    description: "Settings for large requests"
                    type: "object"
                    properties:
                      ratio:
                        type: "number"
                        format: "double"
                        description: "The percentage of requests affected by this\
                          \ fault. Value should be between 0.0 and 1.0"
                      additionalRequestSize:
                        type: "integer"
                        format: "int32"
                        description: "The size added to the request body in bytes.\
                          \ Added payload will be spaces only."
                  largeResponseFaultConfig:
                    description: "Settings for large responses"
                    type: "object"
                    properties:
                      ratio:
                        type: "number"
                        format: "double"
                        description: "The percentage of requests affected by this\
                          \ fault. Value should be between 0.0 and 1.0"
                      additionalResponseSize:
                        type: "integer"
                        format: "int32"
                        description: "Add n 0 bytes"
                  latencyInjectionFaultConfig:
                    description: "Settings for latency injection"
                    type: "object"
                    properties:
                      ratio:
                        type: "number"
                        format: "double"
                        description: "The percentage of requests affected by this\
                          \ fault. Value should be between 0.0 and 1.0"
                      from:
                        type: "number"
                        description: "The start range of latency added to the request"
                      to:
                        type: "number"
                        description: "The end range of latency added to the request"
                  enabled:
                    type: "boolean"
                    description: "Whether or not this config is enabled"
                type: "object"
              secComInfoTokenVersion:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Version of the info token"
              additionalHeadersOut:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Specify headers that will be added to each client response"
              secComHeaders:
                description: "Header names for sec. com. protocol"
                properties:
                  claimRequestName:
                    description: "null type"
                    type: "string"
                    nullable: true
                  stateRequestName:
                    description: "null type"
                    type: "string"
                    nullable: true
                  stateResponseName:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              matchingHeaders:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Specify headers that MUST be present on client request\
                  \ to route it. Useful to implement versioning"
              secComAlgoChallengeBackToOto:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Algorithm to verify challenge token coming from the\
                  \ backend"
              secComUseSameAlgo:
                type: "boolean"
                description: "Use the same algo for info token, challenge token signing,\
                  \ challenge token verification"
              useNewWSClient:
                type: "boolean"
                description: "Use akka http client for this service on websocket calls"
              secComExcludedPatterns:
                type: "array"
                items:
                  type: "string"
                description: "URI patterns excluded from secured communications"
              redirectToLocal:
                type: "boolean"
                description: "If you work locally with Otoroshi, you may want to use\
                  \ that feature to redirect one particuliar service to a local host.\
                  \ For example, you can relocate https://foo.preprod.bar.com to http://localhost:8080\
                  \ to make some tests"
              enforceSecureCommunication:
                type: "boolean"
                description: "When enabled, Otoroshi will try to exchange headers\
                  \ with backend service to ensure no one else can use the service\
                  \ from outside"
              missingOnlyHeadersOut:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Add header on client response if they are not present"
              secComSettings:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Sec. com. settings"
              handleLegacyDomain:
                type: "boolean"
                description: "Use 'domain', 'subdomain', 'env' and 'matchingRoot'\
                  \ for routing in addition to hosts, or just use hosts."
              canary:
                description: "Canary settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Use canary mode for this service"
                  traffic:
                    type: "number"
                    format: "double"
                    description: "Ratio of traffic that will be sent to canary targets."
                  targets:
                    type: "array"
                    items:
                      properties:
                        tags:
                          type: "array"
                          items:
                            type: "string"
                          description: "Tags for this target"
                        host:
                          type: "string"
                          description: "The host on which the HTTP call will be forwarded.\
                            \ Can be a domain name, or an IP address. Can also have\
                            \ a port"
                        weight:
                          type: "integer"
                          format: "int32"
                          description: "The weight of the target when choosing"
                        metadata:
                          type: "object"
                          additionalProperties:
                            type: "string"
                          description: "Metadata for this target"
                        protocol:
                          type: "string"
                          description: "Protocol for the target"
                        predicate:
                          type: "object"
                          x-kubernetes-preserve-unknown-fields: true
                          description: "Predicate to choose this target"
                        ipAddress:
                          description: "null type"
                          type: "string"
                          nullable: true
                        mtlsConfig:
                          description: "TLS settings to contact this target"
                          properties:
                            mtls:
                              type: "boolean"
                              description: "Enabled"
                            loose:
                              type: "boolean"
                              description: "Loose verification"
                            trustAll:
                              type: "boolean"
                              description: "Trust any certificate"
                            trustedCerts:
                              type: "array"
                              items:
                                type: "string"
                              description: "Trusted cert. ids"
                            certs:
                              type: "array"
                              items:
                                type: "string"
                              description: "Trusted cert. ids"
                          type: "object"
                        scheme:
                          type: "string"
                          description: "The protocol used for communication. Can be\
                            \ http or https"
                      type: "object"
                    description: "The list of target that Otoroshi will proxy and\
                      \ expose through the subdomain defined before. Otoroshi will\
                      \ do round-robin load balancing between all those targets with\
                      \ circuit breaker mecanism to avoid cascading failures"
                  root:
                    type: "string"
                    description: "Otoroshi will append this root to any target choosen.\
                      \ If the specified root is '/api/foo', then a request to https://yyyyyyy/bar\
                      \ will actually hit https://xxxxxxxxx/api/foo/bar"
                type: "object"
              location:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              plugins:
                description: "Plugins enabled for this service. will replace separate\
                  \ plugins fields in a near future"
                properties:
                  config:
                    type: "object"
                    description: "Plugins configuration"
                  enabled:
                    type: "boolean"
                    description: "Plugins enabled"
                  excluded:
                    type: "array"
                    items:
                      type: "string"
                    description: "Excluded paths"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "Enabled plugins"
                type: "object"
              secComTtl:
                type: "number"
                description: "TTL for the info token"
              description:
                type: "string"
                description: "Entity description"
              secComVersion:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Version of the sec. com."
              preRouting:
                description: "Pre routing plugin settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "pre-routing plugins enabled"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "Excluded paths"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "Enabled plugins"
                  config:
                    type: "object"
                    description: "pre-routing plugins configuration"
                type: "object"
              groups:
                type: "array"
                items:
                  type: "string"
                description: "Each service descriptor is attached to groups. A group\
                  \ can have one or more services. Each API key is linked to a group\
                  \ and allow access to every service in the group"
              readOnly:
                type: "boolean"
                description: "Service only accepts GET, HEAD and OPTIONS requests"
              privatePatterns:
                type: "array"
                items:
                  type: "string"
                description: "If you define a public pattern that is a little bit\
                  \ too much, you can make some of public URL private again"
              targetsLoadBalancing:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Loadbalancing strategy"
              cors:
                description: "CORS settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Whether or not cors is enabled"
                  allowCredentials:
                    type: "boolean"
                    description: "Allow to pass credentials"
                  maxAge:
                    description: "null type"
                    type: "string"
                    nullable: true
                  allowMethods:
                    type: "array"
                    items:
                      type: "string"
                    description: "The cors allowed methods"
                  allowHeaders:
                    type: "array"
                    items:
                      type: "string"
                    description: "The cors allowed headers"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "The cors excluded patterns"
                  exposeHeaders:
                    type: "array"
                    items:
                      type: "string"
                    description: "The cors exposed header"
                  allowOrigin:
                    type: "string"
                    description: "The cors allowed origin"
                type: "object"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Just a bunch of random properties"
              publicPatterns:
                type: "array"
                items:
                  type: "string"
                description: "By default, every services are private only and you'll\
                  \ need an API key to access it. However, if you want to expose a\
                  \ public UI, you can define one or more public patterns (regex)\
                  \ to allow access to anybody. For example if you want to allow anybody\
                  \ on any URL, just use '/.*'"
              api:
                description: "Api exposition settings"
                properties:
                  exposeApi:
                    type: "boolean"
                    description: "Is this an API"
                  openApiDescriptorUrl:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              missingOnlyHeadersIn:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Add header on client request if they are not present"
              issueCert:
                type: "boolean"
                description: "Flag to automatically issue a cert for this service"
              headersVerification:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Specify headers that will be verified after routing."
              jwtVerifier:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "JWT verifiers settings"
              letsEncrypt:
                type: "boolean"
                description: "Flag to automatically issue a let's encrypt (ACME) cert\
                  \ for this service"
              targets:
                x-kubernetes-preserve-unknown-fields: true
                type: "object"
              enabledAdditionalHosts:
                type: "boolean"
                description: "if enabled, the additional hosts will be add to hosts\
                  \ array"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "wasm-plugins.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "WasmPlugin"
    plural: "wasm-plugins"
    singular: "wasm-plugin"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "???"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "???"
            properties:
              location:
                description: "???"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              name:
                type: "string"
                description: "???"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "???"
              steps:
                type: "array"
                items:
                  type: "object"
                  x-kubernetes-preserve-unknown-fields: true
                  description: "no-description"
                description: "???"
              id:
                type: "string"
                description: "???"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              description:
                type: "string"
                description: "???"
              config:
                description: "???"
                properties:
                  allowedHosts:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  memoryPages:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  allowedPaths:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "???"
                  config:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "???"
                  source:
                    description: "???"
                    properties:
                      kind:
                        type: "object"
                        x-kubernetes-preserve-unknown-fields: true
                        description: "???"
                      path:
                        type: "string"
                        description: "???"
                      opts:
                        type: "object"
                        description: "???"
                    type: "object"
                  authorizations:
                    description: "???"
                    properties:
                      proxyStateAccess:
                        type: "boolean"
                        description: "???"
                      httpAccess:
                        type: "boolean"
                        description: "???"
                      globalMapAccess:
                        description: "???"
                        properties:
                          read:
                            type: "boolean"
                            description: "???"
                          write:
                            type: "boolean"
                            description: "???"
                        type: "object"
                      pluginDataStoreAccess:
                        description: "???"
                        properties:
                          read:
                            type: "boolean"
                            description: "???"
                          write:
                            type: "boolean"
                            description: "???"
                        type: "object"
                      pluginMapAccess:
                        description: "???"
                        properties:
                          read:
                            type: "boolean"
                            description: "???"
                          write:
                            type: "boolean"
                            description: "???"
                        type: "object"
                      proxyHttpCallTimeout:
                        type: "integer"
                        format: "int32"
                        description: "???"
                      configurationAccess:
                        type: "boolean"
                        description: "???"
                      globalDataStoreAccess:
                        description: "???"
                        properties:
                          read:
                            type: "boolean"
                            description: "???"
                          write:
                            type: "boolean"
                            description: "???"
                        type: "object"
                    type: "object"
                  opa:
                    type: "boolean"
                    description: "???"
                  wasi:
                    type: "boolean"
                    description: "???"
                  lifetime:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "???"
                  functionName:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "organizations.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Organization"
    plural: "organizations"
    singular: "organization"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi model for an organization (otoroshi-ui)"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi model for an organization (otoroshi-ui)"
            properties:
              description:
                type: "string"
                description: "Entity description"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              name:
                type: "string"
                description: "Entity name"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              id:
                description: "Entity id"
                properties:
                  rawValue:
                    type: "string"
                    description: "???"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "global-configs.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "GlobalConfig"
    plural: "global-configs"
    singular: "global-config"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The global config (dynamic) for otoroshi"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The global config (dynamic) for otoroshi"
            properties:
              geolocationSettings:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Settings for geolocation extraction"
              alertsEmails:
                type: "array"
                items:
                  type: "string"
                description: "Email addresses that will receive all Otoroshi alert\
                  \ events"
              throttlingQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per second globally, measured\
                  \ on 10 seconds"
              anonymousReporting:
                type: "boolean"
                description: "???"
              maxWebhookSize:
                type: "integer"
                format: "int32"
                description: "Max number of items in webhooks"
              env:
                type: "object"
                description: "???"
              maxConcurrentRequests:
                type: "integer"
                format: "int64"
                description: "The number of authorized request processed at the same\
                  \ time"
              cleverSettings:
                description: "Optional CleverCloud configuration"
                type: "object"
                properties:
                  consumerSecret:
                    type: "string"
                    description: "Clever-Cloud oauth consumer secret"
                  consumerKey:
                    type: "string"
                    description: "Clever-Cloud oauth consumer key"
                  secret:
                    type: "string"
                    description: "Clever-Cloud oauth secret"
                  token:
                    type: "string"
                    description: "Clever-Cloud oauth token"
                  orgaId:
                    type: "string"
                    description: "Clever-Cloud organization id"
              templates:
                description: "The otoroshi default templates for entities"
                properties:
                  team:
                    description: "null type"
                    type: "string"
                    nullable: true
                  script:
                    description: "null type"
                    type: "string"
                    nullable: true
                  apikey:
                    description: "null type"
                    type: "string"
                    nullable: true
                  group:
                    description: "null type"
                    type: "string"
                    nullable: true
                  tcpService:
                    description: "null type"
                    type: "string"
                    nullable: true
                  verifier:
                    description: "null type"
                    type: "string"
                    nullable: true
                  service:
                    description: "null type"
                    type: "string"
                    nullable: true
                  target:
                    description: "null type"
                    type: "string"
                    nullable: true
                  certificate:
                    description: "null type"
                    type: "string"
                    nullable: true
                  dataExporter:
                    description: "null type"
                    type: "string"
                    nullable: true
                  route:
                    description: "null type"
                    type: "string"
                    nullable: true
                  backend:
                    description: "null type"
                    type: "string"
                    nullable: true
                  template:
                    description: "null type"
                    type: "string"
                    nullable: true
                  tenant:
                    description: "null type"
                    type: "string"
                    nullable: true
                  authConfig:
                    description: "null type"
                    type: "string"
                    nullable: true
                  descriptor:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              endlessIpAddresses:
                type: "array"
                items:
                  type: "string"
                description: "IP addresses for which any request to Otoroshi will\
                  \ respond with 128 Gb of zeros"
              plugins:
                description: "global plugins settings"
                properties:
                  config:
                    type: "object"
                    description: "Plugins configuration"
                  enabled:
                    type: "boolean"
                    description: "Plugins enabled"
                  excluded:
                    type: "array"
                    items:
                      type: "string"
                    description: "Excluded paths"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "Enabled plugins"
                type: "object"
              kafkaConfig:
                description: "Global kafka settings. deprecated"
                type: "object"
                properties:
                  securityProtocol:
                    type: "string"
                    description: "???"
                  keyPass:
                    description: "null type"
                    type: "string"
                    nullable: true
                  servers:
                    type: "array"
                    items:
                      type: "string"
                    description: "URLs of the kafka servers"
                  mtlsConfig:
                    description: "TLS config to access the cluster"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "Enabled"
                      loose:
                        type: "boolean"
                        description: "Loose verification"
                      trustAll:
                        type: "boolean"
                        description: "Trust any certificate"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "Trusted cert. ids"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "Trusted cert. ids"
                    type: "object"
                  sendEvents:
                    type: "boolean"
                    description: "Send events to it, or just connect"
                  truststore:
                    description: "null type"
                    type: "string"
                    nullable: true
                  topic:
                    type: "string"
                    description: "Optional kafka topic (otoroshi-events by default)"
                  saslConfig:
                    description: "???"
                    type: "object"
                    properties:
                      username:
                        type: "string"
                        description: "???"
                      password:
                        type: "string"
                        description: "???"
                      mechanism:
                        type: "string"
                        description: "???"
                  keystore:
                    description: "null type"
                    type: "string"
                    nullable: true
                  hostValidation:
                    type: "boolean"
                    description: "???"
              maxLogsSize:
                type: "integer"
                format: "int32"
                description: "Number of events kept locally"
              proxies:
                description: "Web proxies settings"
                properties:
                  elastic:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy used to call elastic"
                  eventsWebhooks:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy used to call webhooks"
                  jwk:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy used to fetch jwks"
                  auth:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy used to call OAuth providers"
                  clevercloud:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy used to call clevercloud"
                  alertEmails:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy used to send alert emails"
                  authority:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy used to check authorities"
                  services:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy used to access services targets"
                type: "object"
              enableEmbeddedMetrics:
                type: "boolean"
                description: "Enable embedded metrics"
              elasticReadsConfig:
                description: "Config. for elastic reads"
                type: "object"
                properties:
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Additionnal headers in the http request"
                  maxBulkSize:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  applyTemplate:
                    type: "boolean"
                    description: "Enable template creation/update"
                  indexSettings:
                    description: "Indexation settings"
                    properties:
                      clientSide:
                        type: "boolean"
                        description: "Enable index splitting on client side"
                      numberOfShards:
                        type: "integer"
                        format: "int32"
                        description: "???"
                      numberOfReplicas:
                        type: "integer"
                        format: "int32"
                        description: "???"
                      interval:
                        type: "string"
                        x-kubernetes-preserve-unknown-fields: true
                        description: "Index splitting interval"
                    type: "object"
                  type:
                    description: "null type"
                    type: "string"
                    nullable: true
                  user:
                    description: "null type"
                    type: "string"
                    nullable: true
                  index:
                    description: "null type"
                    type: "string"
                    nullable: true
                  password:
                    description: "null type"
                    type: "string"
                    nullable: true
                  mtlsConfig:
                    description: "TLS settings for the http client"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "Enabled"
                      loose:
                        type: "boolean"
                        description: "Loose verification"
                      trustAll:
                        type: "boolean"
                        description: "Trust any certificate"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "Trusted cert. ids"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "Trusted cert. ids"
                    type: "object"
                  sendWorkers:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  uris:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  version:
                    description: "null type"
                    type: "string"
                    nullable: true
              trustXForwarded:
                type: "boolean"
                description: "Use X-Forwarded-* headers for routing"
              quotasSettings:
                description: "Settings to generate alert when an apikey almost exceeded\
                  \ or exceeded its quotas"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Is quotas alert enabled"
                  dailyQuotasThreshold:
                    type: "number"
                    format: "double"
                    description: "The daily quotas threshold before generating alert"
                  monthlyQuotasThreshold:
                    type: "number"
                    format: "double"
                    description: "The monthly quotas threshold before generating alert"
                type: "object"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              limitConcurrentRequests:
                type: "boolean"
                description: "If enabled, Otoroshi will reject new request if too\
                  \ much at the same time"
              useAkkaHttpClient:
                type: "boolean"
                description: "Globally use akka http client for everything"
              elasticWritesConfigs:
                type: "array"
                items:
                  properties:
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Additionnal headers in the http request"
                    maxBulkSize:
                      type: "integer"
                      format: "int32"
                      description: "???"
                    applyTemplate:
                      type: "boolean"
                      description: "Enable template creation/update"
                    indexSettings:
                      description: "Indexation settings"
                      properties:
                        clientSide:
                          type: "boolean"
                          description: "Enable index splitting on client side"
                        numberOfShards:
                          type: "integer"
                          format: "int32"
                          description: "???"
                        numberOfReplicas:
                          type: "integer"
                          format: "int32"
                          description: "???"
                        interval:
                          type: "string"
                          x-kubernetes-preserve-unknown-fields: true
                          description: "Index splitting interval"
                      type: "object"
                    type:
                      description: "null type"
                      type: "string"
                      nullable: true
                    user:
                      description: "null type"
                      type: "string"
                      nullable: true
                    index:
                      description: "null type"
                      type: "string"
                      nullable: true
                    password:
                      description: "null type"
                      type: "string"
                      nullable: true
                    mtlsConfig:
                      description: "TLS settings for the http client"
                      properties:
                        mtls:
                          type: "boolean"
                          description: "Enabled"
                        loose:
                          type: "boolean"
                          description: "Loose verification"
                        trustAll:
                          type: "boolean"
                          description: "Trust any certificate"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                      type: "object"
                    sendWorkers:
                      type: "integer"
                      format: "int32"
                      description: "???"
                    uris:
                      type: "array"
                      items:
                        type: "string"
                      description: "???"
                    version:
                      description: "null type"
                      type: "string"
                      nullable: true
                  type: "object"
                description: "Configs. for Elastic writes"
              logAnalyticsOnServer:
                type: "boolean"
                description: "Log analytics event on the server"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              apiReadOnly:
                type: "boolean"
                description: "If enabled, Admin API won't be able to write/update/delete\
                  \ entities"
              backOfficeAuthRef:
                description: "null type"
                type: "string"
                nullable: true
              streamEntityOnly:
                type: "boolean"
                description: "HTTP will be streamed only. Doesn't work with old browsers"
              otoroshiId:
                type: "string"
                description: "Unique id for this otoroshi instance"
              mailerSettings:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Optional mailer configuration"
              lines:
                type: "array"
                items:
                  type: "string"
                description: "Possibles lines for Otoroshi"
              extensions:
                type: "object"
                additionalProperties:
                  type: "object"
                description: "???"
              middleFingers:
                type: "boolean"
                description: "Use middle finger emoji as a response character for\
                  \ endless HTTP responses"
              analyticsWebhooks:
                type: "array"
                items:
                  properties:
                    url:
                      type: "string"
                      description: "The URL where events are posted"
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Headers to authorize the call or whatever"
                    mtlsConfig:
                      description: "TLS config when calling webhook"
                      properties:
                        mtls:
                          type: "boolean"
                          description: "Enabled"
                        loose:
                          type: "boolean"
                          description: "Loose verification"
                        trustAll:
                          type: "boolean"
                          description: "Trust any certificate"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                      type: "object"
                  type: "object"
                description: "Webhook that will receive all internal Otoroshi events"
              autoCert:
                description: "Auto certs settings"
                properties:
                  allowed:
                    type: "array"
                    items:
                      type: "string"
                    description: "allowed domains"
                  enabled:
                    type: "boolean"
                    description: "Enable auto cert"
                  replyNicely:
                    type: "boolean"
                    description: "Reply TLS error with an auto generated certificate\
                      \ for the domain"
                  notAllowed:
                    type: "array"
                    items:
                      type: "string"
                    description: "not allowed domains"
                  caRef:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              wasmManagerSettings:
                description: "???"
                type: "object"
                properties:
                  url:
                    type: "string"
                    description: "???"
                  clientId:
                    type: "string"
                    description: "???"
                  clientSecret:
                    type: "string"
                    description: "???"
                  pluginsFilter:
                    description: "null type"
                    type: "string"
                    nullable: true
              maintenanceMode:
                type: "boolean"
                description: "Global maintenant mode"
              initWithNewEngine:
                type: "boolean"
                description: "???"
              letsEncryptSettings:
                description: "Let's encrypt (ACME) settings"
                properties:
                  privateKey:
                    type: "string"
                    description: "Let's encrypt (ACME) private key"
                  contacts:
                    type: "array"
                    items:
                      type: "string"
                    description: "Let's encrypt (ACME) contacts"
                  emails:
                    type: "array"
                    items:
                      type: "string"
                    description: "Let's encrypt (ACME) contact emails"
                  enabled:
                    type: "boolean"
                    description: "Let's encrypt (ACME) enabled"
                  publicKey:
                    type: "string"
                    description: "Let's encrypt (ACME) public key"
                  server:
                    type: "string"
                    description: "Let's encrypt (ACME) server"
                type: "object"
              snowMonkeyConfig:
                description: "Snowmonky settings"
                properties:
                  dryRun:
                    type: "boolean"
                    description: "Whether or not outages will actualy impact requests"
                  outageDurationTo:
                    type: "number"
                    description: "End of outage duration range"
                  chaosConfig:
                    description: "Chaos settings"
                    properties:
                      badResponsesFaultConfig:
                        description: "Settings for bad responses"
                        type: "object"
                        properties:
                          ratio:
                            type: "number"
                            format: "double"
                            description: "The percentage of requests affected by this\
                              \ fault. Value should be between 0.0 and 1.0"
                          responses:
                            type: "array"
                            items:
                              properties:
                                status:
                                  type: "integer"
                                  format: "int32"
                                  description: "The HTTP status for the response"
                                body:
                                  type: "string"
                                  description: "The body of the HTTP response"
                                headers:
                                  type: "object"
                                  additionalProperties:
                                    type: "string"
                                  description: "The HTTP headers of the response"
                              type: "object"
                            description: "The possibles responses"
                      largeRequestFaultConfig:
                        description: "Settings for large requests"
                        type: "object"
                        properties:
                          ratio:
                            type: "number"
                            format: "double"
                            description: "The percentage of requests affected by this\
                              \ fault. Value should be between 0.0 and 1.0"
                          additionalRequestSize:
                            type: "integer"
                            format: "int32"
                            description: "The size added to the request body in bytes.\
                              \ Added payload will be spaces only."
                      largeResponseFaultConfig:
                        description: "Settings for large responses"
                        type: "object"
                        properties:
                          ratio:
                            type: "number"
                            format: "double"
                            description: "The percentage of requests affected by this\
                              \ fault. Value should be between 0.0 and 1.0"
                          additionalResponseSize:
                            type: "integer"
                            format: "int32"
                            description: "Add n 0 bytes"
                      latencyInjectionFaultConfig:
                        description: "Settings for latency injection"
                        type: "object"
                        properties:
                          ratio:
                            type: "number"
                            format: "double"
                            description: "The percentage of requests affected by this\
                              \ fault. Value should be between 0.0 and 1.0"
                          from:
                            type: "number"
                            description: "The start range of latency added to the\
                              \ request"
                          to:
                            type: "number"
                            description: "The end range of latency added to the request"
                      enabled:
                        type: "boolean"
                        description: "Whether or not this config is enabled"
                    type: "object"
                  timesPerDay:
                    type: "integer"
                    format: "int32"
                    description: "Number of time per day each service will be outage"
                  outageDurationFrom:
                    type: "number"
                    description: "Start of outage duration range"
                  startTime:
                    type: "string"
                    description: "Start time of Snow Monkey each day"
                  includeUserFacingDescriptors:
                    type: "boolean"
                    description: "Whether or not user facing apps. will be impacted\
                      \ by Snow Monkey"
                  targetGroups:
                    type: "array"
                    items:
                      type: "string"
                    description: "Groups impacted by Snow Monkey. If empty, all groups\
                      \ will be impacted"
                  enabled:
                    type: "boolean"
                    description: "Whether or not this config is enabled"
                  stopTime:
                    type: "string"
                    description: "Stop time of Snow Monkey each day"
                  outageStrategy:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: ""
                type: "object"
              scripts:
                description: "global plugins settings. will be deprecated soon"
                properties:
                  jobConfig:
                    type: "object"
                    description: "jobs enabled"
                  enabled:
                    type: "boolean"
                    description: "Global scripts enabled"
                  transformersConfig:
                    type: "object"
                    description: "transformers config"
                  transformersRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "transformers enabled"
                  preRouteRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "pre-route plugins enabled"
                  sinkConfig:
                    type: "object"
                    description: "sinks config"
                  jobRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "running jobs"
                  validatorRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "validator enabled"
                  sinkRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "sinks enabled"
                  preRouteConfig:
                    type: "object"
                    description: "pre-route config"
                  validatorConfig:
                    type: "object"
                    description: "validator config"
                type: "object"
              perIpThrottlingQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per second globally per IP\
                  \ address, measured on 10 seconds"
              useCircuitBreakers:
                type: "boolean"
                description: "If enabled, services will be authorized to use circuit\
                  \ breakers"
              maxHttp10ResponseSize:
                type: "integer"
                format: "int64"
                description: "The max size in bytes of an HTTP 1.0 response"
              tlsSettings:
                description: "TLS settings"
                properties:
                  trustedCAsServer:
                    type: "array"
                    items:
                      type: "string"
                    description: "List for CAs trusted by otoroshi when performing\
                      \ TLS termination"
                  includeJdkCaClient:
                    type: "boolean"
                    description: "Use known JDK CAs to build trust when performing\
                      \ request from otoroshi to backends"
                  randomIfNotFound:
                    type: "boolean"
                    description: "Use a random one"
                  defaultDomain:
                    description: "null type"
                    type: "string"
                    nullable: true
                  includeJdkCaServer:
                    type: "boolean"
                    description: "Use known JDK CAs to build trust for incoming request"
                type: "object"
              statsdConfig:
                description: "Statsd settings (agent connection)"
                type: "object"
                properties:
                  datadog:
                    type: "boolean"
                    description: "Datadog agent"
                  host:
                    type: "string"
                    description: "The host of the StatsD agent"
                  port:
                    type: "integer"
                    format: "int32"
                    description: "The port of the StatsD agent"
              autoLinkToDefaultGroup:
                type: "boolean"
                description: "If not defined, every new service descriptor will be\
                  \ added to the default group"
              alertsWebhooks:
                type: "array"
                items:
                  properties:
                    url:
                      type: "string"
                      description: "The URL where events are posted"
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Headers to authorize the call or whatever"
                    mtlsConfig:
                      description: "TLS config when calling webhook"
                      properties:
                        mtls:
                          type: "boolean"
                          description: "Enabled"
                        loose:
                          type: "boolean"
                          description: "Loose verification"
                        trustAll:
                          type: "boolean"
                          description: "Trust any certificate"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                      type: "object"
                  type: "object"
                description: "Webhook that will receive all Otoroshi alert events"
              ipFiltering:
                description: "Global ip filtering settings"
                properties:
                  whitelist:
                    type: "array"
                    items:
                      type: "string"
                    description: "Whitelisted IP addresses"
                  blacklist:
                    type: "array"
                    items:
                      type: "string"
                    description: "Blacklisted IP addresses"
                type: "object"
              u2fLoginOnly:
                type: "boolean"
                description: "If enabled, login to backoffice through Auth0 will be\
                  \ disabled"
              userAgentSettings:
                description: "Settings for useragent extraction"
                properties:
                  enabled:
                    type: "boolean"
                    description: "User agent extraction enabled"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "apikeys.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ApiKey"
    plural: "apikeys"
    singular: "apikey"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi apikey that can allow you to access some services"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi apikey that can allow you to access some services"
            properties:
              dailyQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per day"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Bunch of metadata for the key"
              throttlingQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per second, measured on 10\
                  \ seconds"
              constrainedServicesOnly:
                type: "boolean"
                description: "This apikey can only be used on services that constrained\
                  \ their apikey routing"
              allowClientIdOnly:
                type: "boolean"
                description: "This apikey can be used juste with the client_id value"
              location:
                description: "The location of the apikey"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              restrictions:
                description: "Apikey restrictions settings"
                properties:
                  forbidden:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "Method of the http request"
                        path:
                          type: "string"
                          description: "Path of the http request"
                      type: "object"
                    description: "Forbidden paths (return 403)"
                  allowed:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "Method of the http request"
                        path:
                          type: "string"
                          description: "Path of the http request"
                      type: "object"
                    description: "Allowed paths"
                  notFound:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "Method of the http request"
                        path:
                          type: "string"
                          description: "Path of the http request"
                      type: "object"
                    description: "Not found paths (return 404)"
                  allowLast:
                    type: "boolean"
                    description: "Evalute allowed paths after everything else"
                  enabled:
                    type: "boolean"
                    description: "Restrictions enabled"
                type: "object"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Apikey tags"
              enabled:
                type: "boolean"
                description: "Whether or not the key is enabled. If disabled, resources\
                  \ won't be available to calls using this key"
              readOnly:
                type: "boolean"
                description: "The apikey only allow access for GET, HEAD and OPTIONS\
                  \ verbs"
              clientSecret:
                type: "string"
                description: "The secret of the Api Key. Usually 64 random alpha numerical\
                  \ characters, but can be anything"
              validUntil:
                description: "null type"
                type: "string"
                nullable: true
              clientName:
                type: "string"
                description: "The name of the api key, for humans ;-)"
              monthlyQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per month"
              description:
                type: "string"
                description: "Description of this apikey"
              rotation:
                description: "Apikey rotation settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Rotation enabled"
                  rotationEvery:
                    type: "integer"
                    format: "int64"
                    description: "Rotate every n hours"
                  gracePeriod:
                    type: "integer"
                    format: "int64"
                    description: "period (in hours) during which both secrets works"
                  nextSecret:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              authorizedEntities:
                type: "array"
                items:
                  type: "object"
                  x-kubernetes-preserve-unknown-fields: true
                  description: "no-description"
                description: "The group/service ids (prefixed by group_ or service_\
                  \ on which the key is authorized"
              clientId:
                type: "string"
                description: "The unique id of the Api Key. Usually 16 random alpha\
                  \ numerical characters, but can be anything"
              daikokuToken:
                type: "string"
                description: "Integration token for Daikoku"
              exportSecret:
                type: "boolean"
                description: "export api key as a kubernetes secret"
              secretName:
                type: "string"
                description: "name of the kubernetes secret"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "teams.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Team"
    plural: "teams"
    singular: "team"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi model for a team of users in the organization (otoroshi-ui)"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi model for a team of users in the organization\
              \ (otoroshi-ui)"
            properties:
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              name:
                type: "string"
                description: "Entity name"
              description:
                type: "string"
                description: "Entity description"
              tenant:
                description: "Entity organization"
                properties:
                  rawValue:
                    type: "string"
                    description: "???"
                type: "object"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              id:
                description: "Entity id"
                properties:
                  rawValue:
                    type: "string"
                    description: "???"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "tcp-services.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "TcpService"
    plural: "tcp-services"
    singular: "tcp-service"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "Model for a TCP proxy"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "Model for a TCP proxy"
            properties:
              enabled:
                type: "boolean"
                description: "Service enabled"
              description:
                type: "string"
                description: "Entity description"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              port:
                type: "integer"
                format: "int32"
                description: "network port"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              rules:
                type: "array"
                items:
                  properties:
                    domain:
                      type: "string"
                      description: "match on SNI domain"
                    targets:
                      type: "array"
                      items:
                        properties:
                          host:
                            type: "string"
                            description: "Target host"
                          ip:
                            description: "null type"
                            type: "string"
                            nullable: true
                          port:
                            type: "integer"
                            format: "int32"
                            description: "Target port"
                          tls:
                            type: "boolean"
                            description: "Use tls"
                        type: "object"
                      description: "TCP targets"
                  type: "object"
                description: "Routing rules"
              clientAuth:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Use client authentication"
              interface:
                type: "string"
                description: "Network interface"
              sni:
                description: "SNI settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "SNI extraction enabled"
                  forwardIfNoMatch:
                    type: "boolean"
                    description: ""
                  forwardsTo:
                    description: "forwards call to"
                    properties:
                      host:
                        type: "string"
                        description: "Target host"
                      ip:
                        description: "null type"
                        type: "string"
                        nullable: true
                      port:
                        type: "integer"
                        format: "int32"
                        description: "Target port"
                      tls:
                        type: "boolean"
                        description: "Use tls"
                    type: "object"
                type: "object"
              id:
                type: "string"
                description: "Entity id"
              location:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              name:
                type: "string"
                description: "Entity name"
              tls:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "TLS mode"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "backends.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Backend"
    plural: "backends"
    singular: "backend"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "A backend representation with it's targets, load balancing and\
          \ general settings"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "A backend representation with it's targets, load balancing\
              \ and general settings"
            properties:
              root:
                type: "string"
                description: "The root path of the backend or the full rewrite path"
              health_check:
                description: "Healthcheck config og the backend"
                type: "object"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Whether or not healthcheck is enabled on the current\
                      \ service descriptor"
                  url:
                    type: "string"
                    description: "The URL to check"
                  timeout:
                    type: "integer"
                    format: "int32"
                    description: "???"
              client:
                description: "Client config. of the backend"
                properties:
                  idle_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Timeout on idle connection"
                  sample_interval:
                    type: "integer"
                    format: "int64"
                    description: "Specify the sliding window time for the circuit\
                      \ breaker in milliseconds, after this time, error count will\
                      \ be reseted"
                  cache_connection_settings:
                    description: "Cached connection settings"
                    properties:
                      queue_size:
                        type: "integer"
                        format: "int32"
                        description: "How much request can be queue before dropping\
                          \ it"
                      enabled:
                        type: "boolean"
                        description: "Is cached connection enabled"
                    type: "object"
                  call_and_stream_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (hard timeout, connection will be closed after\
                      \ that duration)"
                  custom_timeouts:
                    type: "array"
                    items:
                      properties:
                        connection_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Timeout at connection"
                        call_and_stream_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (hard timeout, connection will\
                            \ be closed after that duration)"
                        path:
                          type: "string"
                          description: "path on which this configuration works"
                        call_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (soft timeout as it's enforced\
                            \ by the circuit breaker)"
                        idle_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Timeout on idle connection"
                        global_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long the global call (with retries)\
                            \ should last at most in milliseconds"
                      type: "object"
                    description: "Custom timeouts per path"
                  connection_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Timeout at connection"
                  call_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (soft timeout as it's enforced by the circuit\
                      \ breaker)"
                  global_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long the global call (with retries)\
                      \ should last at most in milliseconds"
                  retry_initial_delay:
                    type: "integer"
                    format: "int64"
                    description: "Specify the delay between two retries. Each retry,\
                      \ the delay is multiplied by the backoff factor"
                  backoff_factor:
                    type: "integer"
                    format: "int64"
                    description: "Specify the factor to multiply the delay for each\
                      \ retry"
                  proxy:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Web proxy settings for http client"
                  retries:
                    type: "integer"
                    format: "int32"
                    description: "Specify how many times the client will try to fetch\
                      \ the result of the request after an error before giving up."
                  max_errors:
                    type: "integer"
                    format: "int32"
                    description: "Specify how many errors can pass before opening\
                      \ the circuit breaker"
                type: "object"
              load_balancing:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Loadbalancing config og the backend"
              rewrite:
                type: "boolean"
                description: "Does the backend performs a full url rewrite ?"
              targets:
                type: "array"
                items:
                  properties:
                    ip_address:
                      description: "null type"
                      type: "string"
                      nullable: true
                    protocol:
                      type: "string"
                      description: "Protocol for the target"
                    predicate:
                      type: "object"
                      x-kubernetes-preserve-unknown-fields: true
                      description: "Predicate to choose this target"
                    tls_config:
                      description: "TLS settings to contact this target"
                      properties:
                        enabled:
                          type: "boolean"
                          description: "Enabled"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                        loose:
                          type: "boolean"
                          description: "Loose verification"
                        trust_all:
                          type: "boolean"
                          description: "Trust any certificate"
                        trusted_certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                      type: "object"
                    tls:
                      type: "boolean"
                      description: "Does the target uses TLS"
                    port:
                      type: "integer"
                      format: "int32"
                      description: "port of the target"
                    id:
                      type: "string"
                      description: "id of the target"
                    weight:
                      type: "integer"
                      format: "int32"
                      description: "The weight of the target when choosing"
                    hostname:
                      type: "string"
                      description: "hostname of the target"
                  type: "object"
                description: "The targets of the backend"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "auth-modules.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "AuthModule"
    plural: "auth-modules"
    singular: "auth-module"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "???"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            x-kubernetes-preserve-unknown-fields: true
            description: "???"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "jwt-verifiers.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "JwtVerifier"
    plural: "jwt-verifiers"
    singular: "jwt-verifier"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "Otoroshi model for JWT token verifier"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "Otoroshi model for JWT token verifier"
            properties:
              id:
                type: "string"
                description: "Verifier id"
              strict:
                type: "boolean"
                description: "Does it fail if JWT not found"
              algoSettings:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Algo settings of the verifier"
              name:
                type: "string"
                description: "Verifier name"
              source:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Where to find the jwt token"
              strategy:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "The strategy of the verifier"
              desc:
                type: "string"
                description: "Verifier description"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              location:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              type:
                type: "string"
                description: "the kind of jwt verifier"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "data-exporters.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "DataExporter"
    plural: "data-exporters"
    singular: "data-exporter"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "Module to export otoroshi specific events to whatever destination\
          \ you want"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "Module to export otoroshi specific events to whatever destination\
              \ you want"
            properties:
              desc:
                type: "string"
                description: "Description"
              location:
                description: "location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              bufferSize:
                type: "integer"
                format: "int32"
                description: "buffer size"
              jsonWorkers:
                type: "integer"
                format: "int32"
                description: "nb workers"
              groupDuration:
                type: "number"
                description: "duration"
              groupSize:
                type: "integer"
                format: "int32"
                description: "Group size"
              type:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Type of data exporter"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              sendWorkers:
                type: "integer"
                format: "int32"
                description: "send workers"
              id:
                type: "string"
                description: "Id"
              name:
                type: "string"
                description: "Name"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Metadata"
              config:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Data Exporter config"
              projection:
                type: "object"
                description: "projection"
              enabled:
                type: "boolean"
                description: "Boolean"
              filtering:
                description: "filtering"
                properties:
                  include:
                    type: "array"
                    items:
                      type: "object"
                    description: "Exclude the events matching one of those filters"
                  exclude:
                    type: "array"
                    items:
                      type: "object"
                    description: "Include the events matching one of those filters"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "routes.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Route"
    plural: "routes"
    singular: "route"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "A routing primitive representing how a request is matched and\
          \ where the request is forwarded"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "A routing primitive representing how a request is matched\
              \ and where the request is forwarded"
            properties:
              debug_flow:
                type: "boolean"
                description: "Enable report debugging"
              enabled:
                type: "boolean"
                description: "Is the route enabled"
              name:
                type: "string"
                description: "The name of the route"
              id:
                type: "string"
                description: "The ud of the route"
              export_reporting:
                type: "boolean"
                description: "Export the execution reporting through standard data\
                  \ exporter"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "The metadata of the route"
              frontend:
                description: "The frontend of the route"
                properties:
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "the headers that will be matched"
                  query:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "the query params that will be matched"
                  domains:
                    type: "array"
                    items:
                      properties:
                        raw:
                          type: "string"
                          description: "the raw value of the domain and path"
                      type: "object"
                    description: "The domain and path that will be matched"
                  methods:
                    type: "array"
                    items:
                      type: "string"
                    description: "the http methods that will be matched"
                  exact:
                    type: "boolean"
                    description: "Match on exact path ?"
                  strip_path:
                    type: "boolean"
                    description: "Is path stripped from backend request"
                type: "object"
              location:
                description: "The location of the route"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "The tags of the route"
              capture:
                type: "boolean"
                description: "???"
              groups:
                type: "array"
                items:
                  type: "string"
                description: "The groups of the route"
              backend_ref:
                description: "null type"
                type: "string"
                nullable: true
              description:
                type: "string"
                description: "The description of the route"
              backend:
                description: "The backend of the route"
                properties:
                  root:
                    type: "string"
                    description: "The root path of the backend or the full rewrite\
                      \ path"
                  health_check:
                    description: "Healthcheck config og the backend"
                    type: "object"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "Whether or not healthcheck is enabled on the\
                          \ current service descriptor"
                      url:
                        type: "string"
                        description: "The URL to check"
                      timeout:
                        type: "integer"
                        format: "int32"
                        description: "???"
                  client:
                    description: "Client config. of the backend"
                    properties:
                      idle_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Timeout on idle connection"
                      sample_interval:
                        type: "integer"
                        format: "int64"
                        description: "Specify the sliding window time for the circuit\
                          \ breaker in milliseconds, after this time, error count\
                          \ will be reseted"
                      cache_connection_settings:
                        description: "Cached connection settings"
                        properties:
                          queue_size:
                            type: "integer"
                            format: "int32"
                            description: "How much request can be queue before dropping\
                              \ it"
                          enabled:
                            type: "boolean"
                            description: "Is cached connection enabled"
                        type: "object"
                      call_and_stream_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Specify how long each call should last at most\
                          \ in milliseconds (hard timeout, connection will be closed\
                          \ after that duration)"
                      custom_timeouts:
                        type: "array"
                        items:
                          properties:
                            connection_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Timeout at connection"
                            call_and_stream_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Specify how long each call should last\
                                \ at most in milliseconds (hard timeout, connection\
                                \ will be closed after that duration)"
                            path:
                              type: "string"
                              description: "path on which this configuration works"
                            call_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Specify how long each call should last\
                                \ at most in milliseconds (soft timeout as it's enforced\
                                \ by the circuit breaker)"
                            idle_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Timeout on idle connection"
                            global_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Specify how long the global call (with\
                                \ retries) should last at most in milliseconds"
                          type: "object"
                        description: "Custom timeouts per path"
                      connection_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Timeout at connection"
                      call_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Specify how long each call should last at most\
                          \ in milliseconds (soft timeout as it's enforced by the\
                          \ circuit breaker)"
                      global_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Specify how long the global call (with retries)\
                          \ should last at most in milliseconds"
                      retry_initial_delay:
                        type: "integer"
                        format: "int64"
                        description: "Specify the delay between two retries. Each\
                          \ retry, the delay is multiplied by the backoff factor"
                      backoff_factor:
                        type: "integer"
                        format: "int64"
                        description: "Specify the factor to multiply the delay for\
                          \ each retry"
                      proxy:
                        type: "object"
                        x-kubernetes-preserve-unknown-fields: true
                        description: "Web proxy settings for http client"
                      retries:
                        type: "integer"
                        format: "int32"
                        description: "Specify how many times the client will try to\
                          \ fetch the result of the request after an error before\
                          \ giving up."
                      max_errors:
                        type: "integer"
                        format: "int32"
                        description: "Specify how many errors can pass before opening\
                          \ the circuit breaker"
                    type: "object"
                  load_balancing:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "Loadbalancing config og the backend"
                  rewrite:
                    type: "boolean"
                    description: "Does the backend performs a full url rewrite ?"
                  targets:
                    type: "array"
                    items:
                      properties:
                        ip_address:
                          description: "null type"
                          type: "string"
                          nullable: true
                        protocol:
                          type: "string"
                          description: "Protocol for the target"
                        predicate:
                          type: "object"
                          x-kubernetes-preserve-unknown-fields: true
                          description: "Predicate to choose this target"
                        tls_config:
                          description: "TLS settings to contact this target"
                          properties:
                            enabled:
                              type: "boolean"
                              description: "Enabled"
                            certs:
                              type: "array"
                              items:
                                type: "string"
                              description: "Trusted cert. ids"
                            loose:
                              type: "boolean"
                              description: "Loose verification"
                            trust_all:
                              type: "boolean"
                              description: "Trust any certificate"
                            trusted_certs:
                              type: "array"
                              items:
                                type: "string"
                              description: "Trusted cert. ids"
                          type: "object"
                        tls:
                          type: "boolean"
                          description: "Does the target uses TLS"
                        port:
                          type: "integer"
                          format: "int32"
                          description: "port of the target"
                        id:
                          type: "string"
                          description: "id of the target"
                        weight:
                          type: "integer"
                          format: "int32"
                          description: "The weight of the target when choosing"
                        hostname:
                          type: "string"
                          description: "hostname of the target"
                      type: "object"
                    description: "The targets of the backend"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "admins.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Admin"
    plural: "admins"
    singular: "admin"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi admin user"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi admin user"
            properties:
              username:
                type: "string"
                description: "User username"
              password:
                type: "string"
                description: "User password (bcrypt hashed)"
              location:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              label:
                type: "string"
                description: "User label"
              createdAt:
                type: "number"
                description: "User creation date"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              rights:
                description: "User rights"
                properties:
                  rights:
                    type: "array"
                    items:
                      properties:
                        tenant:
                          description: "Access rights on organizations"
                          properties:
                            canWrite:
                              type: "boolean"
                              description: "Can this access right write data"
                            value:
                              type: "string"
                              description: "Access pattern"
                            canRead:
                              type: "boolean"
                              description: "Can this access right read data"
                          type: "object"
                        teams:
                          type: "array"
                          items:
                            properties:
                              canRead:
                                type: "boolean"
                                description: "Can this access right read data"
                              value:
                                type: "string"
                                description: "Access pattern"
                              canWrite:
                                type: "boolean"
                                description: "Can this access right write data"
                            type: "object"
                          description: "Access rights on teams"
                      type: "object"
                    description: "Access rights of a user"
                type: "object"
              type:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Type of user"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "scripts.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Script"
    plural: "scripts"
    singular: "script"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: false
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi plugins stored as scala code in the otoroshi datastore"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi plugins stored as scala code in the otoroshi\
              \ datastore"
            properties:
              name:
                type: "string"
                description: "The name of the script"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              location:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    properties:
                      rawValue:
                        type: "string"
                        description: "???"
                    type: "object"
                  teams:
                    type: "array"
                    items:
                      properties:
                        rawValue:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "Teams of the current entity"
                type: "object"
              desc:
                type: "string"
                description: "The description of the script"
              code:
                type: "string"
                description: "The code of the script"
              id:
                type: "string"
                description: "The id of the script"
              type:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "Plugin type"
